'use strict';require('server-only');var w=require('fs'),A=require('path');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var w__default=/*#__PURE__*/_interopDefault(w);var A__default=/*#__PURE__*/_interopDefault(A);var m=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var l={DESCRIPTION:"description",KEYWORDS:"keywords",SOFTWARE_VERSION:"software:version",SOFTWARE_CATEGORY:"software:category",SOFTWARE_LANGUAGE:"software:language"},d={TITLE:"og:title",DESCRIPTION:"og:description",TYPE:"og:type",URL:"og:url",SITE_NAME:"og:site_name"};function S(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function c(e,t){if(!e||e.length===0)return;let r=e.filter(n=>n&&n.trim().length>0);return r.length>0?r.join(t):void 0}function x(e){let t={"@context":"https://schema.org","@type":"SoftwareApplication",name:e.name,description:e.description},n=S(e.alternateName).filter(M=>M&&M.trim().length>0);n.length>0&&(t.alternateName=n),e.version&&(t.softwareVersion=e.version);let a=S(e.applicationCategory),i=c(a,", ");i&&(t.applicationCategory=i);let p=S(e.programmingLanguage),s=c(p,", ");s&&(t.programmingLanguage=s);let o=S(e.technologyStack),u=c(o,", ");u&&t.keywords?t.keywords=`${t.keywords}, ${u}`:u&&(t.keywords=u),e.applicationType&&(t.applicationSubType=e.applicationType),e.url&&(t.url=e.url),e.documentationUrl&&(t.softwareHelp={"@type":"CreativeWork",url:e.documentationUrl}),e.codeRepository&&(t.codeRepository=e.codeRepository),e.license&&(t.license=e.license),e.author&&(t.author={"@type":"Organization",name:e.author.name,...e.author.url&&{url:e.author.url}});let h=c(e.features,", ");h&&(t.featureList=h);let f=c(e.keywords,", ");f&&(t.keywords=f);let C=c(e.operatingSystem,", ");C&&(t.operatingSystem=C);let G=c(e.softwareRequirements,", ");return G&&(t.softwareRequirements=G),t}function H(e){if(!e||e.length===0)throw new Error("FAQPage requires at least one FAQ item");let t=e.filter(r=>r.question?.trim()&&r.answer?.trim());if(t.length===0)throw new Error("All FAQ items have empty questions or answers");return {"@context":"https://schema.org","@type":"FAQPage",mainEntity:t.map(r=>({"@type":"Question",name:r.question.trim(),acceptedAnswer:{"@type":"Answer",text:r.answer.trim()}}))}}function D(e){return {"@context":"https://schema.org","@type":"TechArticle",headline:e.headline,...e.description&&{description:e.description},...e.datePublished&&{datePublished:e.datePublished},...e.dateModified&&{dateModified:e.dateModified},...e.author&&{author:{"@type":"Organization",name:e.author.name,...e.author.url&&{url:e.author.url}}},...e.image&&{image:e.image}}}function N(e){if(!e.name||e.name.trim().length===0)throw new Error("HowTo.name is required and cannot be empty");if(!e.steps||e.steps.length===0)throw new Error("HowTo requires at least one step");let t=e.steps.filter(r=>r.name?.trim()&&r.text?.trim()).map((r,n)=>({"@type":"HowToStep",position:n+1,name:r.name.trim(),text:r.text.trim(),...r.image&&{image:r.image}}));if(t.length===0)throw new Error("All HowTo steps have empty names or text");return {"@context":"https://schema.org","@type":"HowTo",name:e.name.trim(),step:t,...e.description&&{description:e.description},...e.totalTime&&{totalTime:e.totalTime}}}function R(e){try{return new URL(e),!0}catch{return  false}}function E(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function g(e,t){if(!e||e.length===0)return;let r=e.filter(n=>n&&n.trim().length>0);return r.length>0?r.join(t):void 0}function j(e){if(!e.name||e.name.trim().length===0)throw new Error("GEOConfig.name is required and cannot be empty");if(!e.description||e.description.trim().length===0)throw new Error("GEOConfig.description is required and cannot be empty");if(e.description.length>160&&console.warn(`[GEO] Description is ${e.description.length} characters. Consider keeping it under 160 for better AI parsing.`),e.url&&!R(e.url))throw new Error(`GEOConfig.url must be a valid URL: ${e.url}`);if(e.codeRepository&&!R(e.codeRepository))throw new Error(`GEOConfig.codeRepository must be a valid URL: ${e.codeRepository}`);if(e.documentationUrl&&!R(e.documentationUrl))throw new Error(`GEOConfig.documentationUrl must be a valid URL: ${e.documentationUrl}`);let t=[{name:l.DESCRIPTION,content:e.description}],r=g(e.keywords,", ");r&&t.push({name:l.KEYWORDS,content:r}),e.version&&t.push({name:l.SOFTWARE_VERSION,content:e.version});let n=E(e.applicationCategory),a=g(n,", ");a&&t.push({name:l.SOFTWARE_CATEGORY,content:a});let i=E(e.programmingLanguage),p=g(i,", ");p&&t.push({name:l.SOFTWARE_LANGUAGE,content:p});let s=[x(e)],o=[{property:d.TITLE,content:e.name},{property:d.DESCRIPTION,content:e.description},{property:d.TYPE,content:"website"}];e.url&&o.push({property:d.URL,content:e.url}),e.author&&o.push({property:d.SITE_NAME,content:e.author.name});let u=[{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:e.name},{name:"twitter:description",content:e.description}];return {meta:t,jsonLd:s,openGraph:o,twitter:u,version:"1.0.0"}}var T=new WeakMap;function I(e,t){let r;return typeof e=="object"&&e!==null?T.has(e)?r=T.get(e):(r=JSON.stringify(e).replace(/</g,"\\u003c").replace(/>/g,"\\u003e").replace(/&/g,"\\u0026"),T.set(e,r)):r=String(e),{id:t||`jsonld-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,type:"application/ld+json",dangerouslySetInnerHTML:{__html:r}}}function v(e){let t=[];t.push(`${e.name} is a ${e.description}`);let r=g(e.features,", ");r&&t.push(`Key features include: ${r}`);let n=g(e.useCases,", ");n&&t.push(`Common use cases: ${n}`);let a=E(e.programmingLanguage),i=g(a,", ");i&&t.push(`Built with: ${i}`);let p=E(e.technologyStack),s=g(p,", ");s&&t.push(`Technology stack: ${s}`);let o=g(e.softwareRequirements,", ");o&&t.push(`Requires: ${o}`);let u=t.join(". ");return u.endsWith(".")?u:u+"."}function V(e){let{title:t,description:r,seo:n}=e,a={title:t,description:r};return n?.keywords&&n.keywords.length>0&&(a.keywords=n.keywords),(n?.ogImage||n?.ogTitle||n?.ogDescription||n?.ogType)&&(a.openGraph={title:n.ogTitle||t,description:n.ogDescription||r,type:n.ogType||"website",...n.ogImage&&{images:[{url:n.ogImage}]}}),n?.ogImage&&(a.twitter={card:"summary_large_image",...n.ogTitle&&{title:n.ogTitle},...n.ogDescription&&{description:n.ogDescription},...n.ogImage&&{images:[n.ogImage]}}),a}function W(e){let t=[];return e.colors&&Object.entries(e.colors).forEach(([r,n])=>{n&&t.push(`  --color-${r}: ${n};`);}),e.typography&&(e.typography.fontFamily&&t.push(`  --font-family: ${e.typography.fontFamily.join(", ")};`),e.typography.fontSize&&Object.entries(e.typography.fontSize).forEach(([r,n])=>{n&&t.push(`  --font-size-${r}: ${n};`);})),e.customVariables&&Object.entries(e.customVariables).forEach(([r,n])=>{t.push(`  --${r}: ${n};`);}),t.length===0?"":`:root {
${t.join(`
`)}
}`}function B(e){let t={};return e.colors&&Object.entries(e.colors).forEach(([r,n])=>{n&&(t[`--color-${r}`]=n);}),e.typography&&(e.typography.fontFamily&&(t["--font-family"]=e.typography.fontFamily.join(", ")),e.typography.fontSize&&Object.entries(e.typography.fontSize).forEach(([r,n])=>{n&&(t[`--font-size-${r}`]=n);})),e.customVariables&&Object.entries(e.customVariables).forEach(([r,n])=>{t[`--${r}`]=n;}),t}function Q(e){let t={theme:{extend:{}}};if(e.colors){let r={};Object.entries(e.colors).forEach(([n,a])=>{a&&(r[n]=a);}),Object.keys(r).length>0&&(t.theme.extend.colors=r);}if(e.typography&&(e.typography.fontFamily&&(t.theme.extend.fontFamily={sans:e.typography.fontFamily}),e.typography.fontSize)){let r={};Object.entries(e.typography.fontSize).forEach(([n,a])=>{a&&(r[n]=a);}),Object.keys(r).length>0&&(t.theme.extend.fontSize=r);}return t}var L;try{L=m("next/server").NextResponse;}catch{L={next:()=>({headers:new Headers}),redirect:e=>({headers:new Headers})};}function J(e){return function(r){let{defaultLanguage:n,supportedLanguages:a,detectionStrategy:i="header"}=e,p=n;if(i==="header"){let o=r.headers.get("accept-language");if(o){let u=o.split(",")[0].split("-")[0].toLowerCase();a.includes(u)&&(p=u);}}else if(i==="cookie"){let o=r.cookies.get("language")?.value;o&&a.includes(o)&&(p=o);}else if(i==="path"){let o=r.nextUrl.pathname.split("/")[1];o&&a.includes(o)&&(p=o);}else if(i==="query"){let o=r.nextUrl.searchParams.get("lang");o&&a.includes(o)&&(p=o);}let s=L.next();return s.headers.set("x-language",p),s}}async function Y(e,t="translations"){if(!e.i18n)return {};let r=e.i18n.namespaces||["common"],a=e.i18n.supportedLanguages||["ko"],i={},p=A__default.default.join(process.cwd(),t);for(let s of a){i[s]={};for(let o of r)try{let u=A__default.default.join(p,s,`${o}.json`);if(!w__default.default.existsSync(u)){let f=A__default.default.join(p,"ko",`${o}.json`);if(w__default.default.existsSync(f)){let C=JSON.parse(w__default.default.readFileSync(f,"utf-8"));i[s][o]=C;continue}i[s][o]={};continue}let h=JSON.parse(w__default.default.readFileSync(u,"utf-8"));i[s][o]=h;}catch(u){process.env.NODE_ENV==="development"&&console.warn(`[hua] Failed to load SSR translation for ${s}/${o}:`,u),i[s][o]={};}}return i}var y={preset:"product",i18n:{defaultLanguage:"ko",supportedLanguages:["ko","en"],fallbackLanguage:"en",namespaces:["common"],translationLoader:"api",translationApiPath:"/api/translations"},motion:{defaultPreset:"product",enableAnimations:true},state:{persist:true,ssr:true},fileStructure:{enforce:false}};function $(e){if(e.preset){if(typeof e.preset=="string"){if(!["product","marketing"].includes(e.preset))throw new Error(`[hua] \u274C \uC798\uBABB\uB41C Preset\uC785\uB2C8\uB2E4: "${e.preset}"
[hua] \u274C Invalid preset: "${e.preset}"

\uC0AC\uC6A9 \uAC00\uB2A5\uD55C Preset: 'product', 'marketing'
Available presets: 'product', 'marketing'

\u{1F4A1} \uD574\uACB0 \uBC29\uBC95 / Solution:
   - 'product' \uB610\uB294 'marketing' \uC911 \uD558\uB098\uB97C \uC120\uD0DD\uD558\uC138\uC694.
   - Select either 'product' or 'marketing'.

\u{1F4D6} \uAC00\uC774\uB4DC / Guide: https://github.com/HUA-Labs/hua-platform/tree/main/packages/hua/docs`)}else if(!["product","marketing"].includes(e.preset.type))throw new Error(`[hua] \u274C \uC798\uBABB\uB41C Preset \uD0C0\uC785\uC785\uB2C8\uB2E4: "${e.preset.type}"
[hua] \u274C Invalid preset type: "${e.preset.type}"

\uC0AC\uC6A9 \uAC00\uB2A5\uD55C Preset \uD0C0\uC785: 'product', 'marketing'
Available preset types: 'product', 'marketing'

\u{1F4A1} \uD574\uACB0 \uBC29\uBC95 / Solution:
   - preset.type\uC744 'product' \uB610\uB294 'marketing'\uC73C\uB85C \uC124\uC815\uD558\uC138\uC694.
   - Set preset.type to either 'product' or 'marketing'.

\u{1F4D6} \uAC00\uC774\uB4DC / Guide: https://github.com/HUA-Labs/hua-platform/tree/main/packages/hua/docs`)}if(e.motion?.style&&!e.motion.defaultPreset){let r={smooth:"product",minimal:"product",dramatic:"marketing"};e.motion.defaultPreset=r[e.motion.style];}let t={preset:e.preset||y.preset,i18n:{...y.i18n,...e.i18n},motion:{...y.motion,...e.motion},state:{...y.state,...e.state},fileStructure:{...y.fileStructure,...e.fileStructure}};if(t.i18n&&!t.i18n.supportedLanguages.includes(t.i18n.defaultLanguage))throw new Error(`[hua] \u274C i18n \uC124\uC815 \uC624\uB958 / i18n configuration error

\uAE30\uBCF8 \uC5B8\uC5B4 "${t.i18n.defaultLanguage}"\uAC00 \uC9C0\uC6D0 \uC5B8\uC5B4 \uBAA9\uB85D\uC5D0 \uC5C6\uC2B5\uB2C8\uB2E4.
Default language "${t.i18n.defaultLanguage}" is not in supportedLanguages.

\uD604\uC7AC \uC9C0\uC6D0 \uC5B8\uC5B4 / Current supported languages: ${t.i18n.supportedLanguages.join(", ")}

\u{1F4A1} \uD574\uACB0 \uBC29\uBC95 / Solution:
   1. supportedLanguages\uC5D0 "${t.i18n.defaultLanguage}"\uB97C \uCD94\uAC00\uD558\uC138\uC694.
      Add "${t.i18n.defaultLanguage}" to supportedLanguages.
   2. \uB610\uB294 defaultLanguage\uB97C \uC9C0\uC6D0 \uC5B8\uC5B4 \uC911 \uD558\uB098\uB85C \uBCC0\uACBD\uD558\uC138\uC694.
      Or change defaultLanguage to one of the supported languages.

\u{1F4DD} \uC608\uC2DC / Example:
   i18n: {
     defaultLanguage: 'ko',
     supportedLanguages: ['ko', 'en', 'ja'],  // 'ko' \uD3EC\uD568 \uD544\uC218
   }

\u{1F4D6} \uAC00\uC774\uB4DC / Guide: https://github.com/HUA-Labs/hua-platform/tree/main/packages/hua/docs`);return t}var b={motion:{hero:{entrance:"fadeIn",delay:100,duration:400,hover:false,click:false},title:{entrance:"slideUp",delay:150,duration:350,hover:false,click:false},button:{entrance:"scaleIn",delay:200,duration:200,hover:true,click:true},card:{entrance:"slideUp",delay:100,duration:300,hover:true,click:false},text:{entrance:"fadeIn",delay:50,duration:300,hover:false,click:false}},spacing:{default:"md",section:"lg",component:"sm"},i18n:{defaultLanguage:"ko",supportedLanguages:["ko","en"]},icons:{set:"phosphor",weight:"regular",size:20,color:"currentColor"}};var U={motion:{hero:{entrance:"fadeIn",delay:300,duration:1e3,hover:false,click:false},title:{entrance:"slideUp",delay:500,duration:800,hover:false,click:false},button:{entrance:"scaleIn",delay:700,duration:400,hover:true,click:true},card:{entrance:"slideUp",delay:600,duration:600,hover:true,click:false},text:{entrance:"fadeIn",delay:400,duration:700,hover:false,click:false},image:{entrance:"scaleIn",delay:500,duration:800,hover:true,click:false}},spacing:{default:"xl",section:"xl",component:"md"},i18n:{defaultLanguage:"ko",supportedLanguages:["ko","en"]},icons:{set:"phosphor",weight:"bold",size:24,color:"currentColor"}};var F={product:b,marketing:U};function O(e,t){let r={...e};for(let n in t)t[n]!==void 0&&(t[n]&&typeof t[n]=="object"&&!Array.isArray(t[n])&&e[n]&&typeof e[n]=="object"&&!Array.isArray(e[n])?r[n]=O(e[n],t[n]):r[n]=t[n]);return r}function K(e){return {motion:{defaultPreset:e===b?"product":"marketing",enableAnimations:true},i18n:{defaultLanguage:e.i18n.defaultLanguage,supportedLanguages:[...e.i18n.supportedLanguages]}}}function P(e,t){let r,n={};typeof e=="string"?r=e:(r=e.type,e.motion&&(n.motion={...n.motion,duration:e.motion.duration,easing:e.motion.easing}));let a=F[r];if(!a)throw new Error(`Unknown preset: "${r}". Available presets: ${Object.keys(F).join(", ")}`);let i=K(a);i.preset=r;let p=O(i,n),s=t?O(p,t):p;return {...i,...s,i18n:s.i18n||i.i18n,motion:s.motion||i.motion,state:s.state||{persist:true,ssr:true},fileStructure:s.fileStructure||{enforce:false}}}function q(e){return O({i18n:{defaultLanguage:"ko",supportedLanguages:["ko","en"],fallbackLanguage:"en",namespaces:["common"],translationLoader:"api",translationApiPath:"/api/translations"},motion:{defaultPreset:"product",enableAnimations:true},state:{persist:true,ssr:true},fileStructure:{enforce:false}},e)}var _=null;function z(){return _}function k(e){_=e;}function X(){let cachedConfig=z();if(cachedConfig)return cachedConfig;if(typeof window<"u"){let e=P("product",{});return k(e),e}if(typeof process<"u"&&process.cwd&&typeof m<"u")try{let dynamicRequire=eval("require"),fs=dynamicRequire("fs"),path=dynamicRequire("path"),projectRoot=process.cwd(),configPaths=[path.join(projectRoot,"hua.config.ts"),path.join(projectRoot,"hua.config.js"),path.join(projectRoot,"hua.config.mjs")];for(let e of configPaths)if(fs.existsSync(e))try{if(typeof m<"u"&&typeof m.resolve=="function")try{let t=dynamicRequire(e),r=t.default||t;if(r&&typeof r=="object"){let n;if(r.preset){let{preset:a,...i}=r;n=P(a,i);}else n=q(r);return n=$(n),k(n),n}}catch{break}}catch{continue}}catch(e){}let defaultConfig=P("product",{});return k(defaultConfig),defaultConfig}
exports.createAIContext=v;exports.createI18nMiddleware=J;exports.generateCSSVariables=W;exports.generateCSSVariablesObject=B;exports.generateFAQPageLD=H;exports.generateGEOMetadata=j;exports.generateHowToLD=N;exports.generatePageMetadata=V;exports.generateSoftwareApplicationLD=x;exports.generateTailwindConfig=Q;exports.generateTechArticleLD=D;exports.getSSRTranslations=Y;exports.loadConfig=X;exports.renderJSONLD=I;//# sourceMappingURL=server.js.map
//# sourceMappingURL=server.js.map