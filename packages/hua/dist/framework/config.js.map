{"version":3,"sources":["../../src/framework/config/schema.ts","../../src/presets/product.ts","../../src/presets/marketing.ts","../../src/framework/config/merge.ts","../../src/framework/license/loader.ts","../../src/framework/license/types.ts","../../src/framework/license/index.ts","../../src/framework/plugins/registry.ts","../../src/framework/config/client.ts"],"names":["defaultConfig","validateConfig","config","styleToPreset","validated","productPreset","marketingPreset","PRESET_MAP","deepMerge","target","source","result","key","presetToConfig","preset","mergePresetWithConfig","userConfig","presetName","presetOverrides","presetData","presetConfig","presetWithOverrides","merged","createConfigFromUserConfig","cachedLicense","FREE_LICENSE","validateLicenseKey","apiKey","loadLicenseFromEnv","loadLicenseFromConfig","configLicense","loadLicense","envLicense","configLicenseInfo","FEATURE_LICENSE_MAP","globalLicense","initLicense","getLicense","checkLicense","feature","license","requiredLicenses","hasLicense","PluginRegistry","plugin","pluginName","promises","name","pluginRegistry","cachedConfig","defineConfig","error","getConfig","setConfig","resetConfig"],"mappings":"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","file":"config.js","sourcesContent":["/**\r\n * @hua-labs/hua/framework - Config Schema\r\n * \r\n * Configuration schema and validation\r\n */\r\n\r\nimport type { HuaConfig, Preset } from '../types';\r\n\r\n/**\r\n * Default configuration\r\n * \r\n * Presetì„ ì‚¬ìš©í•˜ì§€ ì•Šì„ ë•Œì˜ ê¸°ë³¸ê°’ì…ë‹ˆë‹¤.\r\n * Presetì„ ì‚¬ìš©í•˜ë©´ ì´ ê°’ì€ ë¬´ì‹œë˜ê³  Preset ê°’ì´ ì‚¬ìš©ë©ë‹ˆë‹¤.\r\n */\r\nexport const defaultConfig: Required<Omit<HuaConfig, 'branding' | 'plugins' | 'license'>> & {\r\n  branding?: HuaConfig['branding'];\r\n  plugins?: HuaConfig['plugins'];\r\n  license?: HuaConfig['license'];\r\n} = {\r\n  preset: 'product',  // ê¸°ë³¸ Preset\r\n  i18n: {\r\n    defaultLanguage: 'ko',\r\n    supportedLanguages: ['ko', 'en'],\r\n    fallbackLanguage: 'en',\r\n    namespaces: ['common'],\r\n    translationLoader: 'api',\r\n    translationApiPath: '/api/translations',\r\n  },\r\n  icons: {\r\n    set: 'phosphor',\r\n    weight: 'regular',\r\n    size: 20,\r\n    color: 'currentColor',\r\n  },\r\n  motion: {\r\n    defaultPreset: 'product',\r\n    enableAnimations: true,\r\n  },\r\n  state: {\r\n    persist: true,\r\n    ssr: true,\r\n  },\r\n  fileStructure: {\r\n    enforce: false,\r\n  },\r\n  toast: {\r\n    position: 'top-right',\r\n    maxToasts: 5,\r\n  },\r\n  plugins: [],\r\n  license: undefined,\r\n};\r\n\r\n/**\r\n * Validate configuration\r\n * \r\n * ì„¤ì •ì˜ ìœ íš¨ì„±ì„ ê²€ì¦í•˜ê³  ì¹œì ˆí•œ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\r\n * Validates configuration and provides friendly error messages.\r\n */\r\nexport function validateConfig(config: Partial<HuaConfig>): HuaConfig {\r\n  // Preset ê²€ì¦\r\n  if (config.preset) {\r\n    if (typeof config.preset === 'string') {\r\n      // ë°”ì´ë¸Œ ëª¨ë“œ: ë¬¸ìì—´ Preset\r\n      if (!['product', 'marketing'].includes(config.preset)) {\r\n        throw new Error(\r\n          `[hua] âŒ ì˜ëª»ëœ Presetì…ë‹ˆë‹¤: \"${config.preset}\"\\n` +\r\n          `[hua] âŒ Invalid preset: \"${config.preset}\"\\n\\n` +\r\n          `ì‚¬ìš© ê°€ëŠ¥í•œ Preset: 'product', 'marketing'\\n` +\r\n          `Available presets: 'product', 'marketing'\\n\\n` +\r\n          `ğŸ’¡ í•´ê²° ë°©ë²• / Solution:\\n` +\r\n          `   - 'product' ë˜ëŠ” 'marketing' ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì„¸ìš”.\\n` +\r\n          `   - Select either 'product' or 'marketing'.\\n\\n` +\r\n          `ğŸ“– ê°€ì´ë“œ / Guide: https://github.com/HUA-Labs/hua-platform/tree/main/packages/hua/docs`\r\n        );\r\n      }\r\n    } else {\r\n      // ê°œë°œì ëª¨ë“œ: ê°ì²´ Preset\r\n      if (!['product', 'marketing'].includes(config.preset.type)) {\r\n        throw new Error(\r\n          `[hua] âŒ ì˜ëª»ëœ Preset íƒ€ì…ì…ë‹ˆë‹¤: \"${config.preset.type}\"\\n` +\r\n          `[hua] âŒ Invalid preset type: \"${config.preset.type}\"\\n\\n` +\r\n          `ì‚¬ìš© ê°€ëŠ¥í•œ Preset íƒ€ì…: 'product', 'marketing'\\n` +\r\n          `Available preset types: 'product', 'marketing'\\n\\n` +\r\n          `ğŸ’¡ í•´ê²° ë°©ë²• / Solution:\\n` +\r\n          `   - preset.typeì„ 'product' ë˜ëŠ” 'marketing'ìœ¼ë¡œ ì„¤ì •í•˜ì„¸ìš”.\\n` +\r\n          `   - Set preset.type to either 'product' or 'marketing'.\\n\\n` +\r\n          `ğŸ“– ê°€ì´ë“œ / Guide: https://github.com/HUA-Labs/hua-platform/tree/main/packages/hua/docs`\r\n        );\r\n      }\r\n    }\r\n  }\r\n  \r\n  // motion.styleì„ defaultPresetìœ¼ë¡œ ë§¤í•‘ (ë°”ì´ë¸Œ ì½”ë”ìš©)\r\n  if (config.motion?.style && !config.motion.defaultPreset) {\r\n    const styleToPreset: Record<string, 'product' | 'marketing'> = {\r\n      smooth: 'product',\r\n      minimal: 'product',\r\n      dramatic: 'marketing',\r\n    };\r\n    \r\n    config.motion.defaultPreset = styleToPreset[config.motion.style];\r\n  }\r\n\r\n  // ê¸°ë³¸ê°’ê³¼ ë³‘í•©\r\n  const validated: HuaConfig = {\r\n    preset: config.preset || defaultConfig.preset,\r\n    i18n: {\r\n      ...defaultConfig.i18n,\r\n      ...config.i18n,\r\n    },\r\n    motion: {\r\n      ...defaultConfig.motion,\r\n      ...config.motion,\r\n    },\r\n    state: {\r\n      ...defaultConfig.state,\r\n      ...config.state,\r\n    },\r\n    fileStructure: {\r\n      ...defaultConfig.fileStructure,\r\n      ...config.fileStructure,\r\n    },\r\n  };\r\n\r\n  // Validate i18n\r\n  if (validated.i18n) {\r\n    if (!validated.i18n.supportedLanguages.includes(validated.i18n.defaultLanguage)) {\r\n      throw new Error(\r\n        `[hua] âŒ i18n ì„¤ì • ì˜¤ë¥˜ / i18n configuration error\\n\\n` +\r\n        `ê¸°ë³¸ ì–¸ì–´ \"${validated.i18n.defaultLanguage}\"ê°€ ì§€ì› ì–¸ì–´ ëª©ë¡ì— ì—†ìŠµë‹ˆë‹¤.\\n` +\r\n        `Default language \"${validated.i18n.defaultLanguage}\" is not in supportedLanguages.\\n\\n` +\r\n        `í˜„ì¬ ì§€ì› ì–¸ì–´ / Current supported languages: ${validated.i18n.supportedLanguages.join(', ')}\\n\\n` +\r\n        `ğŸ’¡ í•´ê²° ë°©ë²• / Solution:\\n` +\r\n        `   1. supportedLanguagesì— \"${validated.i18n.defaultLanguage}\"ë¥¼ ì¶”ê°€í•˜ì„¸ìš”.\\n` +\r\n        `      Add \"${validated.i18n.defaultLanguage}\" to supportedLanguages.\\n` +\r\n        `   2. ë˜ëŠ” defaultLanguageë¥¼ ì§€ì› ì–¸ì–´ ì¤‘ í•˜ë‚˜ë¡œ ë³€ê²½í•˜ì„¸ìš”.\\n` +\r\n        `      Or change defaultLanguage to one of the supported languages.\\n\\n` +\r\n        `ğŸ“ ì˜ˆì‹œ / Example:\\n` +\r\n        `   i18n: {\\n` +\r\n        `     defaultLanguage: 'ko',\\n` +\r\n        `     supportedLanguages: ['ko', 'en', 'ja'],  // 'ko' í¬í•¨ í•„ìˆ˜\\n` +\r\n        `   }\\n\\n` +\r\n        `ğŸ“– ê°€ì´ë“œ / Guide: https://github.com/HUA-Labs/hua-platform/tree/main/packages/hua/docs`\r\n      );\r\n    }\r\n  }\r\n\r\n  return validated;\r\n}\r\n","/**\r\n * Product Preset\r\n * \r\n * ê¸°ë³¸ ì—¬ë°± + ê¸°ë³¸ ëª¨ì…˜ ì„¤ì •\r\n * ì œí’ˆ í˜ì´ì§€, ëŒ€ì‹œë³´ë“œ ë“± ì¼ë°˜ì ì¸ ì œí’ˆ UIì— ì í•©\r\n */\r\n\r\nimport type { MotionPreset, PresetConfig } from '@hua-labs/motion-core'\r\n\r\n/**\r\n * Product Preset Configuration\r\n * \r\n * - ë³´ìˆ˜ì ì¸ ëª¨ì…˜ (ë¹ ë¥¸ ì „í™˜, ìµœì†Œí•œì˜ ë”œë ˆì´)\r\n * - ì¼ê´€ëœ ìŠ¤í˜ì´ì‹± (md ê¸°ë³¸ê°’)\r\n * - í˜¸ë²„/í´ë¦­ ì¸í„°ë™ì…˜ ìµœì†Œí™”\r\n */\r\nexport const productPreset = {\r\n  /**\r\n   * Motion Presets for Product UI\r\n   */\r\n  motion: {\r\n    hero: {\r\n      entrance: 'fadeIn',\r\n      delay: 100,\r\n      duration: 400,\r\n      hover: false,\r\n      click: false\r\n    } as MotionPreset,\r\n    title: {\r\n      entrance: 'slideUp',\r\n      delay: 150,\r\n      duration: 350,\r\n      hover: false,\r\n      click: false\r\n    } as MotionPreset,\r\n    button: {\r\n      entrance: 'scaleIn',\r\n      delay: 200,\r\n      duration: 200,\r\n      hover: true,\r\n      click: true\r\n    } as MotionPreset,\r\n    card: {\r\n      entrance: 'slideUp',\r\n      delay: 100,\r\n      duration: 300,\r\n      hover: true,\r\n      click: false\r\n    } as MotionPreset,\r\n    text: {\r\n      entrance: 'fadeIn',\r\n      delay: 50,\r\n      duration: 300,\r\n      hover: false,\r\n      click: false\r\n    } as MotionPreset\r\n  } as PresetConfig,\r\n\r\n  /**\r\n   * Spacing Guidelines\r\n   * \r\n   * - ê¸°ë³¸ ìŠ¤í˜ì´ì‹±: md (8px)\r\n   * - ì„¹ì…˜ ê°„ê²©: lg (16px)\r\n   * - ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€: sm (4px)\r\n   */\r\n  spacing: {\r\n    default: 'md',\r\n    section: 'lg',\r\n    component: 'sm'\r\n  },\r\n\r\n  /**\r\n   * i18n Configuration\r\n   */\r\n  i18n: {\r\n    defaultLanguage: 'ko',\r\n    supportedLanguages: ['ko', 'en']\r\n  },\r\n\r\n  /**\r\n   * Icon Configuration\r\n   *\r\n   * - Phosphor Icons (ê¸°ë³¸ê°’)\r\n   * - Regular weight (ê¹”ë”í•œ ìŠ¤íƒ€ì¼)\r\n   * - 20px ê¸°ë³¸ í¬ê¸°\r\n   */\r\n  icons: {\r\n    set: 'phosphor' as const,\r\n    weight: 'regular' as const,\r\n    size: 20,\r\n    color: 'currentColor'\r\n  }\r\n} as const\r\n\r\nexport type ProductPreset = typeof productPreset\r\n","/**\r\n * Marketing Preset\r\n * \r\n * ëœë”© í˜ì´ì§€ ëª¨ì…˜ ì¤‘ì‹¬ ì„¤ì •\r\n * ë§ˆì¼€íŒ… í˜ì´ì§€, ëœë”© í˜ì´ì§€ì— ì í•©\r\n */\r\n\r\nimport type { MotionPreset, PresetConfig } from '@hua-labs/motion-core'\r\n\r\n/**\r\n * Marketing Preset Configuration\r\n * \r\n * - ë“œë¼ë§ˆí‹±í•œ ëª¨ì…˜ (ëŠë¦° ì „í™˜, ê¸´ ë”œë ˆì´)\r\n * - ë„“ì€ ìŠ¤í˜ì´ì‹± (xl ê¸°ë³¸ê°’)\r\n * - í˜¸ë²„/í´ë¦­ ì¸í„°ë™ì…˜ ê°•ì¡°\r\n */\r\nexport const marketingPreset = {\r\n  /**\r\n   * Motion Presets for Marketing UI\r\n   */\r\n  motion: {\r\n    hero: {\r\n      entrance: 'fadeIn',\r\n      delay: 300,\r\n      duration: 1000,\r\n      hover: false,\r\n      click: false\r\n    } as MotionPreset,\r\n    title: {\r\n      entrance: 'slideUp',\r\n      delay: 500,\r\n      duration: 800,\r\n      hover: false,\r\n      click: false\r\n    } as MotionPreset,\r\n    button: {\r\n      entrance: 'scaleIn',\r\n      delay: 700,\r\n      duration: 400,\r\n      hover: true,\r\n      click: true\r\n    } as MotionPreset,\r\n    card: {\r\n      entrance: 'slideUp',\r\n      delay: 600,\r\n      duration: 600,\r\n      hover: true,\r\n      click: false\r\n    } as MotionPreset,\r\n    text: {\r\n      entrance: 'fadeIn',\r\n      delay: 400,\r\n      duration: 700,\r\n      hover: false,\r\n      click: false\r\n    } as MotionPreset,\r\n    image: {\r\n      entrance: 'scaleIn',\r\n      delay: 500,\r\n      duration: 800,\r\n      hover: true,\r\n      click: false\r\n    } as MotionPreset\r\n  } as PresetConfig,\r\n\r\n  /**\r\n   * Spacing Guidelines\r\n   * \r\n   * - ê¸°ë³¸ ìŠ¤í˜ì´ì‹±: xl (24px)\r\n   * - ì„¹ì…˜ ê°„ê²©: xl (32px+)\r\n   * - ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€: md (8px)\r\n   */\r\n  spacing: {\r\n    default: 'xl',\r\n    section: 'xl',\r\n    component: 'md'\r\n  },\r\n\r\n  /**\r\n   * i18n Configuration\r\n   */\r\n  i18n: {\r\n    defaultLanguage: 'ko',\r\n    supportedLanguages: ['ko', 'en']\r\n  },\r\n\r\n  /**\r\n   * Icon Configuration\r\n   *\r\n   * - Phosphor Icons (ê¸°ë³¸ê°’)\r\n   * - Bold weight (ì„íŒ©íŠ¸ ìˆëŠ” ìŠ¤íƒ€ì¼)\r\n   * - 24px ê¸°ë³¸ í¬ê¸° (ë§ˆì¼€íŒ…ìš©ìœ¼ë¡œ í¬ê²Œ)\r\n   */\r\n  icons: {\r\n    set: 'phosphor' as const,\r\n    weight: 'bold' as const,\r\n    size: 24,\r\n    color: 'currentColor'\r\n  }\r\n} as const\r\n\r\nexport type MarketingPreset = typeof marketingPreset\r\n","/**\r\n * @hua-labs/hua/framework - Config Merge\r\n * \r\n * Preset ë³‘í•© ë° ê¹Šì€ ë³‘í•© ë¡œì§\r\n */\r\n\r\nimport type { HuaConfig, Preset, PresetName, PresetConfig } from '../types';\r\nimport { productPreset } from '../../presets/product';\r\nimport { marketingPreset } from '../../presets/marketing';\r\n\r\n/**\r\n * Preset ë§µ\r\n */\r\nconst PRESET_MAP: Record<PresetName, any> = {\r\n  product: productPreset,\r\n  marketing: marketingPreset,\r\n};\r\n\r\n/**\r\n * ê¹Šì€ ë³‘í•© (Deep Merge)\r\n * \r\n * ì¤‘ì²©ëœ ê°ì²´ë¥¼ ì¬ê·€ì ìœ¼ë¡œ ë³‘í•©í•©ë‹ˆë‹¤.\r\n * ì‚¬ìš©ì ì„¤ì •ì´ Preset ì„¤ì •ë³´ë‹¤ ìš°ì„ í•©ë‹ˆë‹¤.\r\n */\r\nfunction deepMerge<T extends Record<string, any>>(\r\n  target: T,\r\n  source: Partial<T>\r\n): T {\r\n  const result = { ...target };\r\n\r\n  for (const key in source) {\r\n    if (source[key] === undefined) {\r\n      // undefinedëŠ” ë³‘í•©ì—ì„œ ì œì™¸ (ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ë„ë ¤ëŠ” ê²½ìš°)\r\n      continue;\r\n    }\r\n\r\n    if (\r\n      source[key] &&\r\n      typeof source[key] === 'object' &&\r\n      !Array.isArray(source[key]) &&\r\n      target[key] &&\r\n      typeof target[key] === 'object' &&\r\n      !Array.isArray(target[key])\r\n    ) {\r\n      // ì¤‘ì²© ê°ì²´ëŠ” ì¬ê·€ì ìœ¼ë¡œ ë³‘í•©\r\n      result[key] = deepMerge(target[key], source[key] as Partial<T[Extract<keyof T, string>]>);\r\n    } else {\r\n      // ë°°ì—´ì´ë‚˜ ì›ì‹œê°’ì€ ê·¸ëŒ€ë¡œ ë®ì–´ì“°ê¸°\r\n      result[key] = source[key] as T[Extract<keyof T, string>];\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * Presetì—ì„œ Configë¡œ ë³€í™˜\r\n * \r\n * Presetì˜ êµ¬ì¡°ë¥¼ HuaConfig í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\r\n */\r\nfunction presetToConfig(preset: typeof productPreset | typeof marketingPreset): Partial<HuaConfig> {\r\n  return {\r\n    motion: {\r\n      defaultPreset: preset === productPreset ? 'product' : 'marketing',\r\n      enableAnimations: true,\r\n    },\r\n    i18n: {\r\n      defaultLanguage: preset.i18n.defaultLanguage,\r\n      supportedLanguages: [...preset.i18n.supportedLanguages],\r\n    },\r\n    // Presetì˜ spacingì€ ë‚˜ì¤‘ì— ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©\r\n    // Configì—ëŠ” ì§ì ‘ í¬í•¨í•˜ì§€ ì•ŠìŒ (ì»´í¬ë„ŒíŠ¸ê°€ PresetContextì—ì„œ ê°€ì ¸ì˜´)\r\n  };\r\n}\r\n\r\n/**\r\n * Presetê³¼ ì‚¬ìš©ì ì„¤ì • ë³‘í•©\r\n * \r\n * 1. Preset ê¸°ë³¸ê°’ ë¡œë“œ\r\n * 2. Preset ì„¤ì • ì˜¤ë²„ë¼ì´ë“œ (ê°œë°œì ëª¨ë“œì¸ ê²½ìš°)\r\n * 3. ì‚¬ìš©ì ì„¤ì •ìœ¼ë¡œ ë³‘í•© (ì‚¬ìš©ì ì„¤ì • ìš°ì„ )\r\n * 4. ìµœì¢… ê²€ì¦\r\n * \r\n * @param preset - ì‚¬ìš©í•  Preset (ë¬¸ìì—´ ë˜ëŠ” ê°ì²´)\r\n * @param userConfig - ì‚¬ìš©ì ì„¤ì • (ì„ íƒì )\r\n * @returns ë³‘í•©ëœ ì„¤ì •\r\n */\r\nexport function mergePresetWithConfig(\r\n  preset: Preset,\r\n  userConfig?: Partial<HuaConfig>\r\n): HuaConfig {\r\n  // 1. Preset íƒ€ì… ì¶”ì¶œ\r\n  let presetName: PresetName;\r\n  let presetOverrides: Partial<HuaConfig> = {};\r\n  \r\n  if (typeof preset === 'string') {\r\n    // ë°”ì´ë¸Œ ëª¨ë“œ: ë¬¸ìì—´ Preset\r\n    presetName = preset;\r\n  } else {\r\n    // ê°œë°œì ëª¨ë“œ: ê°ì²´ Preset\r\n    presetName = preset.type;\r\n    \r\n    // Preset ì„¤ì • ì˜¤ë²„ë¼ì´ë“œ\r\n    if (preset.motion) {\r\n      presetOverrides.motion = {\r\n        ...presetOverrides.motion,\r\n        duration: preset.motion.duration,\r\n        easing: preset.motion.easing,\r\n      };\r\n    }\r\n    \r\n    // spacingì€ ë‚˜ì¤‘ì— ì»´í¬ë„ŒíŠ¸ ë ˆë²¨ì—ì„œ ì²˜ë¦¬\r\n    // (Configì—ëŠ” ì§ì ‘ í¬í•¨í•˜ì§€ ì•ŠìŒ)\r\n  }\r\n\r\n  // 2. Preset ë¡œë“œ\r\n  const presetData = PRESET_MAP[presetName];\r\n  if (!presetData) {\r\n    throw new Error(\r\n      `Unknown preset: \"${presetName}\". Available presets: ${Object.keys(PRESET_MAP).join(', ')}`\r\n    );\r\n  }\r\n\r\n  // 3. Presetì„ Config í˜•ì‹ìœ¼ë¡œ ë³€í™˜\r\n  const presetConfig = presetToConfig(presetData);\r\n  \r\n  // preset ì†ì„± ì¶”ê°€ (ì›ë³¸ preset ì •ë³´ ë³´ì¡´)\r\n  presetConfig.preset = presetName;\r\n\r\n  // 4. Preset ì˜¤ë²„ë¼ì´ë“œì™€ ë³‘í•©\r\n  const presetWithOverrides = deepMerge(presetConfig, presetOverrides);\r\n\r\n  // 5. ì‚¬ìš©ì ì„¤ì •ê³¼ ë³‘í•© (ì‚¬ìš©ì ì„¤ì • ìš°ì„ )\r\n  const merged = userConfig\r\n    ? deepMerge(presetWithOverrides, userConfig)\r\n    : presetWithOverrides;\r\n\r\n  // 4. ìµœì¢… Config í˜•ì‹ìœ¼ë¡œ ë³€í™˜ (í•„ìˆ˜ í•„ë“œ ë³´ì¥)\r\n  return {\r\n    ...presetConfig,\r\n    ...merged,\r\n    // i18nì€ í•­ìƒ ìˆì–´ì•¼ í•¨ (Presetì—ì„œ ì œê³µ)\r\n    i18n: merged.i18n || presetConfig.i18n,\r\n    // motionì€ í•­ìƒ ìˆì–´ì•¼ í•¨\r\n    motion: merged.motion || presetConfig.motion,\r\n    // stateëŠ” ê¸°ë³¸ê°’ ì‚¬ìš©\r\n    state: merged.state || {\r\n      persist: true,\r\n      ssr: true,\r\n    },\r\n    // fileStructureëŠ” ê¸°ë³¸ê°’ ì‚¬ìš©\r\n    fileStructure: merged.fileStructure || {\r\n      enforce: false,\r\n    },\r\n  } as HuaConfig;\r\n}\r\n\r\n/**\r\n * Preset ì—†ì´ ì‚¬ìš©ì ì„¤ì •ë§Œìœ¼ë¡œ Config ìƒì„±\r\n * \r\n * Presetì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ëª¨ë“  ì„¤ì •ì„ ì§ì ‘ ì§€ì •í•˜ëŠ” ê²½ìš°\r\n */\r\nexport function createConfigFromUserConfig(\r\n  userConfig: Partial<HuaConfig>\r\n): HuaConfig {\r\n  // ê¸°ë³¸ê°’ê³¼ ì‚¬ìš©ì ì„¤ì • ë³‘í•©\r\n  const defaultConfig: Partial<HuaConfig> = {\r\n    i18n: {\r\n      defaultLanguage: 'ko',\r\n      supportedLanguages: ['ko', 'en'],\r\n      fallbackLanguage: 'en',\r\n      namespaces: ['common'],\r\n      translationLoader: 'api',\r\n      translationApiPath: '/api/translations',\r\n    },\r\n    motion: {\r\n      defaultPreset: 'product',\r\n      enableAnimations: true,\r\n    },\r\n    state: {\r\n      persist: true,\r\n      ssr: true,\r\n    },\r\n    fileStructure: {\r\n      enforce: false,\r\n    },\r\n  };\r\n\r\n  return deepMerge(defaultConfig, userConfig) as HuaConfig;\r\n}\r\n","/**\r\n * @hua-labs/hua/framework - License Loader\r\n * \r\n * ë¼ì´ì„ ìŠ¤ ë¡œë“œ ë° ê²€ì¦\r\n */\r\n\r\nimport type { LicenseInfo, LicenseType } from './types';\r\n\r\n/**\r\n * ë¼ì´ì„ ìŠ¤ ìºì‹œ\r\n */\r\nlet cachedLicense: LicenseInfo | null = null;\r\n\r\n/**\r\n * Free ë¼ì´ì„ ìŠ¤ ê¸°ë³¸ê°’ / Free license default\r\n */\r\nconst FREE_LICENSE: LicenseInfo = {\r\n  type: 'free',\r\n  valid: true,\r\n  features: ['core', 'motion-basic', 'i18n-basic', 'preset-basic'],\r\n};\r\n\r\n/**\r\n * API í‚¤ ê²€ì¦ (ë¯¸êµ¬í˜„ - í–¥í›„ êµ¬í˜„)\r\n * \r\n * ì‹¤ì œ êµ¬í˜„ ì‹œì—ëŠ” ì„œë²„ APIë¥¼ í˜¸ì¶œí•˜ì—¬ ë¼ì´ì„ ìŠ¤ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.\r\n * In actual implementation, this would call a server API to validate the license.\r\n * \r\n * @param apiKey - API í‚¤\r\n * @returns ë¼ì´ì„ ìŠ¤ ì •ë³´ ë˜ëŠ” null\r\n */\r\nfunction validateLicenseKey(apiKey: string): LicenseInfo | null {\r\n  // TODO: ì‹¤ì œ API í˜¸ì¶œ êµ¬í˜„\r\n  // TODO: Implement actual API call\r\n  \r\n  // í˜„ì¬ëŠ” ê¸°ë³¸ê°’ ë°˜í™˜ (ê°œë°œ ë‹¨ê³„)\r\n  // Currently returns default (development phase)\r\n  if (apiKey.startsWith('pro_')) {\r\n    return {\r\n      type: 'pro',\r\n      valid: true,\r\n      features: ['core', 'motion-basic', 'motion-pro', 'i18n-basic', 'i18n-pro', 'preset-basic', 'preset-pro'],\r\n      apiKey,\r\n    };\r\n  }\r\n  \r\n  if (apiKey.startsWith('enterprise_')) {\r\n    return {\r\n      type: 'enterprise',\r\n      valid: true,\r\n      features: ['core', 'motion-basic', 'motion-pro', 'i18n-basic', 'i18n-pro', 'preset-basic', 'preset-pro', 'white-labeling'],\r\n      apiKey,\r\n      companyName: 'Enterprise Customer',\r\n    };\r\n  }\r\n  \r\n  return null;\r\n}\r\n\r\n/**\r\n * í™˜ê²½ ë³€ìˆ˜ì—ì„œ ë¼ì´ì„ ìŠ¤ ë¡œë“œ\r\n * \r\n * @returns ë¼ì´ì„ ìŠ¤ ì •ë³´ ë˜ëŠ” null\r\n */\r\nfunction loadLicenseFromEnv(): LicenseInfo | null {\r\n  // Node.js í™˜ê²½ì—ì„œë§Œ ë™ì‘\r\n  if (typeof process === 'undefined' || !process.env) {\r\n    return null;\r\n  }\r\n  \r\n  const apiKey = process.env.HUA_LICENSE_KEY;\r\n  if (!apiKey) {\r\n    return null;\r\n  }\r\n  \r\n  return validateLicenseKey(apiKey);\r\n}\r\n\r\n/**\r\n * ì„¤ì • íŒŒì¼ì—ì„œ ë¼ì´ì„ ìŠ¤ ë¡œë“œ\r\n * \r\n * @param configLicense - ì„¤ì • íŒŒì¼ì˜ ë¼ì´ì„ ìŠ¤ ì •ë³´\r\n * @returns ë¼ì´ì„ ìŠ¤ ì •ë³´ ë˜ëŠ” null\r\n */\r\nfunction loadLicenseFromConfig(configLicense?: { apiKey?: string; type?: LicenseType }): LicenseInfo | null {\r\n  if (!configLicense) {\r\n    return null;\r\n  }\r\n  \r\n  // API í‚¤ê°€ ìˆìœ¼ë©´ ê²€ì¦\r\n  if (configLicense.apiKey) {\r\n    return validateLicenseKey(configLicense.apiKey);\r\n  }\r\n  \r\n  // íƒ€ì…ë§Œ ì§€ì •ëœ ê²½ìš° (ê°œë°œìš©)\r\n  if (configLicense.type) {\r\n    if (configLicense.type === 'pro') {\r\n      return {\r\n        type: 'pro',\r\n        valid: true,\r\n        features: ['core', 'motion-basic', 'motion-pro', 'i18n-basic', 'i18n-pro', 'preset-basic', 'preset-pro'],\r\n      };\r\n    }\r\n    \r\n    if (configLicense.type === 'enterprise') {\r\n      return {\r\n        type: 'enterprise',\r\n        valid: true,\r\n        features: ['core', 'motion-basic', 'motion-pro', 'i18n-basic', 'i18n-pro', 'preset-basic', 'preset-pro', 'white-labeling'],\r\n      };\r\n    }\r\n  }\r\n  \r\n  return null;\r\n}\r\n\r\n/**\r\n * ë¼ì´ì„ ìŠ¤ ë¡œë“œ\r\n * \r\n * ë¡œë“œ ìˆœì„œ:\r\n * 1. í™˜ê²½ ë³€ìˆ˜ (HUA_LICENSE_KEY)\r\n * 2. ì„¤ì • íŒŒì¼ (hua.config.ts)\r\n * 3. ê¸°ë³¸ê°’ (Free)\r\n * \r\n * @param configLicense - ì„¤ì • íŒŒì¼ì˜ ë¼ì´ì„ ìŠ¤ ì •ë³´ (ì„ íƒì )\r\n * @returns ë¼ì´ì„ ìŠ¤ ì •ë³´\r\n */\r\nexport function loadLicense(configLicense?: { apiKey?: string; type?: LicenseType }): LicenseInfo {\r\n  // ìºì‹œ í™•ì¸\r\n  if (cachedLicense) {\r\n    return cachedLicense;\r\n  }\r\n  \r\n  // 1. í™˜ê²½ ë³€ìˆ˜ì—ì„œ ë¡œë“œ\r\n  const envLicense = loadLicenseFromEnv();\r\n  if (envLicense) {\r\n    cachedLicense = envLicense;\r\n    return cachedLicense;\r\n  }\r\n  \r\n  // 2. ì„¤ì • íŒŒì¼ì—ì„œ ë¡œë“œ\r\n  const configLicenseInfo = loadLicenseFromConfig(configLicense);\r\n  if (configLicenseInfo) {\r\n    cachedLicense = configLicenseInfo;\r\n    return cachedLicense;\r\n  }\r\n  \r\n  // 3. ê¸°ë³¸ê°’ (Free)\r\n  cachedLicense = FREE_LICENSE;\r\n  return cachedLicense;\r\n}\r\n\r\n/**\r\n * ë¼ì´ì„ ìŠ¤ ìºì‹œ ì´ˆê¸°í™” (í…ŒìŠ¤íŠ¸ìš©)\r\n */\r\nexport function resetLicenseCache(): void {\r\n  cachedLicense = null;\r\n}\r\n","/**\r\n * @hua-labs/hua/framework - License Types\r\n * \r\n * ë¼ì´ì„ ìŠ¤ íƒ€ì… ì •ì˜\r\n */\r\n\r\n/**\r\n * ë¼ì´ì„ ìŠ¤ íƒ€ì… / License type\r\n */\r\nexport type LicenseType = 'free' | 'pro' | 'enterprise';\r\n\r\n/**\r\n * ë¼ì´ì„ ìŠ¤ ê¸°ëŠ¥ / License feature\r\n * \r\n * ê° ê¸°ëŠ¥ì€ íŠ¹ì • ë¼ì´ì„ ìŠ¤ íƒ€ì…ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.\r\n * Each feature is available only with specific license types.\r\n */\r\nexport type LicenseFeature =\r\n  | 'core' // ê¸°ë³¸ ê¸°ëŠ¥ (ëª¨ë“  ë¼ì´ì„ ìŠ¤)\r\n  | 'motion-basic' // ê¸°ë³¸ ëª¨ì…˜ (Free)\r\n  | 'motion-pro' // ê³ ê¸‰ ëª¨ì…˜ (Pro+)\r\n  | 'i18n-basic' // ê¸°ë³¸ i18n (Free)\r\n  | 'i18n-pro' // ê³ ê¸‰ i18n (Pro+)\r\n  | 'preset-basic' // ê¸°ë³¸ í”„ë¦¬ì…‹ (Free)\r\n  | 'preset-pro' // ê³ ê¸‰ í”„ë¦¬ì…‹ (Pro+)\r\n  | 'white-labeling'; // í™”ì´íŠ¸ ë¼ë²¨ë§ (Enterprise)\r\n\r\n/**\r\n * ë¼ì´ì„ ìŠ¤ ì •ë³´ / License information\r\n */\r\nexport interface LicenseInfo {\r\n  /**\r\n   * ë¼ì´ì„ ìŠ¤ íƒ€ì… / License type\r\n   */\r\n  type: LicenseType;\r\n  \r\n  /**\r\n   * ë¼ì´ì„ ìŠ¤ ìœ íš¨ì„± / License validity\r\n   */\r\n  valid: boolean;\r\n  \r\n  /**\r\n   * ë§Œë£Œì¼ (ì„ íƒì ) / Expiration date (optional)\r\n   */\r\n  expiresAt?: Date;\r\n  \r\n  /**\r\n   * ì‚¬ìš© ê°€ëŠ¥í•œ ê¸°ëŠ¥ ëª©ë¡ / List of available features\r\n   */\r\n  features: LicenseFeature[];\r\n  \r\n  /**\r\n   * íšŒì‚¬/ì„œë¹„ìŠ¤ ì´ë¦„ (Enterprise) / Company/service name (Enterprise)\r\n   */\r\n  companyName?: string;\r\n  \r\n  /**\r\n   * API í‚¤ (Pro/Enterprise) / API key (Pro/Enterprise)\r\n   */\r\n  apiKey?: string;\r\n}\r\n\r\n/**\r\n * ë¼ì´ì„ ìŠ¤ ê²€ì¦ ê²°ê³¼ / License check result\r\n */\r\nexport interface LicenseCheckResult {\r\n  /**\r\n   * ê²€ì¦ ì„±ê³µ ì—¬ë¶€ / Validation success\r\n   */\r\n  valid: boolean;\r\n  \r\n  /**\r\n   * ì‹¤íŒ¨ ì´ìœ  (ê²€ì¦ ì‹¤íŒ¨ ì‹œ) / Failure reason (if validation failed)\r\n   */\r\n  reason?: string;\r\n  \r\n  /**\r\n   * ë§Œë£Œì¼ (ì„ íƒì ) / Expiration date (optional)\r\n   */\r\n  expiresAt?: Date;\r\n}\r\n\r\n/**\r\n * ê¸°ëŠ¥ë³„ í•„ìš”í•œ ë¼ì´ì„ ìŠ¤ íƒ€ì… ë§¤í•‘ / Feature to license type mapping\r\n */\r\nexport const FEATURE_LICENSE_MAP: Record<LicenseFeature, LicenseType[]> = {\r\n  'core': ['free', 'pro', 'enterprise'],\r\n  'motion-basic': ['free', 'pro', 'enterprise'],\r\n  'motion-pro': ['pro', 'enterprise'],\r\n  'i18n-basic': ['free', 'pro', 'enterprise'],\r\n  'i18n-pro': ['pro', 'enterprise'],\r\n  'preset-basic': ['free', 'pro', 'enterprise'],\r\n  'preset-pro': ['pro', 'enterprise'],\r\n  'white-labeling': ['enterprise'],\r\n};\r\n","/**\r\n * @hua-labs/hua/framework - License System\r\n * \r\n * ë¼ì´ì„ ìŠ¤ ê²€ì¦ ë° ê´€ë¦¬ ì‹œìŠ¤í…œ\r\n */\r\n\r\nimport type { LicenseInfo, LicenseFeature, LicenseCheckResult } from './types';\r\nimport { loadLicense } from './loader';\r\nimport { FEATURE_LICENSE_MAP } from './types';\r\nimport { createLicenseError } from './errors';\r\n\r\n/**\r\n * ì „ì—­ ë¼ì´ì„ ìŠ¤ ì¸ìŠ¤í„´ìŠ¤\r\n */\r\nlet globalLicense: LicenseInfo | null = null;\r\n\r\n/**\r\n * ë¼ì´ì„ ìŠ¤ ì´ˆê¸°í™”\r\n * \r\n * ì„¤ì • íŒŒì¼ì˜ ë¼ì´ì„ ìŠ¤ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ì´ì„ ìŠ¤ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤.\r\n * \r\n * @param configLicense - ì„¤ì • íŒŒì¼ì˜ ë¼ì´ì„ ìŠ¤ ì •ë³´ (ì„ íƒì )\r\n */\r\nexport function initLicense(configLicense?: { apiKey?: string; type?: 'free' | 'pro' | 'enterprise' }): void {\r\n  globalLicense = loadLicense(configLicense);\r\n}\r\n\r\n/**\r\n * í˜„ì¬ ë¼ì´ì„ ìŠ¤ ê°€ì ¸ì˜¤ê¸°\r\n * \r\n * @returns ë¼ì´ì„ ìŠ¤ ì •ë³´\r\n */\r\nexport function getLicense(): LicenseInfo {\r\n  if (!globalLicense) {\r\n    // ì´ˆê¸°í™”ë˜ì§€ ì•Šì€ ê²½ìš° ê¸°ë³¸ê°’ (Free) ë¡œë“œ\r\n    globalLicense = loadLicense();\r\n  }\r\n  return globalLicense;\r\n}\r\n\r\n/**\r\n * ë¼ì´ì„ ìŠ¤ ê²€ì¦\r\n * \r\n * íŠ¹ì • ê¸°ëŠ¥ì´ í˜„ì¬ ë¼ì´ì„ ìŠ¤ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.\r\n * \r\n * @param feature - í™•ì¸í•  ê¸°ëŠ¥\r\n * @returns ê²€ì¦ ê²°ê³¼\r\n * \r\n * @example\r\n * ```ts\r\n * const result = checkLicense('motion-pro');\r\n * if (result.valid) {\r\n *   // Pro ê¸°ëŠ¥ ì‚¬ìš©\r\n * }\r\n * ```\r\n */\r\nexport function checkLicense(feature: LicenseFeature): LicenseCheckResult {\r\n  const license = getLicense();\r\n  \r\n  // ë¼ì´ì„ ìŠ¤ê°€ ìœ íš¨í•˜ì§€ ì•Šì€ ê²½ìš°\r\n  if (!license.valid) {\r\n    return {\r\n      valid: false,\r\n      reason: 'License is not valid',\r\n    };\r\n  }\r\n  \r\n  // ë§Œë£Œ í™•ì¸\r\n  if (license.expiresAt && license.expiresAt < new Date()) {\r\n    return {\r\n      valid: false,\r\n      reason: 'License has expired',\r\n      expiresAt: license.expiresAt,\r\n    };\r\n  }\r\n  \r\n  // ê¸°ëŠ¥ í™•ì¸\r\n  const requiredLicenses = FEATURE_LICENSE_MAP[feature];\r\n  // If feature is not in the map (e.g., plugin features), skip this check\r\n  if (requiredLicenses && !requiredLicenses.includes(license.type)) {\r\n    return {\r\n      valid: false,\r\n      reason: `Feature \"${feature}\" requires one of: ${requiredLicenses.join(', ')}`,\r\n    };\r\n  }\r\n  \r\n  // ê¸°ëŠ¥ì´ features ëª©ë¡ì— ìˆëŠ”ì§€ í™•ì¸ (EnterpriseëŠ” ëª¨ë“  ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥)\r\n  if (license.type !== 'enterprise' && !license.features.includes(feature)) {\r\n    return {\r\n      valid: false,\r\n      reason: `Feature \"${feature}\" is not included in the license`,\r\n    };\r\n  }\r\n  \r\n  return {\r\n    valid: true,\r\n    expiresAt: license.expiresAt,\r\n  };\r\n}\r\n\r\n/**\r\n * ë¼ì´ì„ ìŠ¤ í™•ì¸ (ê°„ë‹¨í•œ boolean ë°˜í™˜)\r\n * \r\n * @param feature - í™•ì¸í•  ê¸°ëŠ¥\r\n * @returns ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€\r\n * \r\n * @example\r\n * ```ts\r\n * if (hasLicense('motion-pro')) {\r\n *   // Pro ê¸°ëŠ¥ ì‚¬ìš©\r\n * }\r\n * ```\r\n */\r\nexport function hasLicense(feature: LicenseFeature): boolean {\r\n  return checkLicense(feature).valid;\r\n}\r\n\r\n/**\r\n * ë¼ì´ì„ ìŠ¤ í•„ìˆ˜ í™•ì¸\r\n * \r\n * ë¼ì´ì„ ìŠ¤ê°€ ì—†ìœ¼ë©´ ì—ëŸ¬ë¥¼ throwí•©ë‹ˆë‹¤.\r\n * \r\n * @param feature - í™•ì¸í•  ê¸°ëŠ¥\r\n * @throws ë¼ì´ì„ ìŠ¤ê°€ ì—†ì„ ê²½ìš° ì—ëŸ¬\r\n * \r\n * @example\r\n * ```ts\r\n * requireLicense('motion-pro');\r\n * // Pro ê¸°ëŠ¥ ì‚¬ìš© (ì—ëŸ¬ ì—†ìŒ)\r\n * ```\r\n */\r\nexport function requireLicense(feature: LicenseFeature): void {\r\n  const result = checkLicense(feature);\r\n  if (!result.valid) {\r\n    const license = getLicense();\r\n    throw new Error(createLicenseError(feature, license.type));\r\n  }\r\n}\r\n","/**\r\n * @hua-labs/hua/framework - Plugin Registry\r\n * \r\n * í”ŒëŸ¬ê·¸ì¸ ë“±ë¡ ë° ê´€ë¦¬ ì‹œìŠ¤í…œ\r\n */\r\n\r\nimport type { HuaPlugin } from './types';\r\nimport { hasLicense } from '../license';\r\nimport type { LicenseFeature } from '../license/types';\r\n\r\n/**\r\n * í”ŒëŸ¬ê·¸ì¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ / Plugin registry\r\n * \r\n * ëª¨ë“  í”ŒëŸ¬ê·¸ì¸ì„ ë“±ë¡í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì‹±ê¸€í†¤ í´ë˜ìŠ¤\r\n * Singleton class that registers and manages all plugins\r\n */\r\nclass PluginRegistry {\r\n  private plugins: Map<string, HuaPlugin> = new Map();\r\n  private initialized: Set<string> = new Set();\r\n\r\n  /**\r\n   * í”ŒëŸ¬ê·¸ì¸ ë“±ë¡ / Register plugin\r\n   * \r\n   * @param plugin - ë“±ë¡í•  í”ŒëŸ¬ê·¸ì¸\r\n   * @throws ë¼ì´ì„ ìŠ¤ê°€ ì—†ì„ ê²½ìš° ì—ëŸ¬\r\n   * \r\n   * @example\r\n   * ```ts\r\n   * import { registerPlugin } from '@hua-labs/hua/framework';\r\n   * import { motionProPlugin } from '@hua-labs/motion-core/pro';\r\n   * \r\n   * registerPlugin(motionProPlugin);\r\n   * ```\r\n   */\r\n  register(plugin: HuaPlugin): void {\r\n    // ì¤‘ë³µ ë“±ë¡ í™•ì¸\r\n    if (this.plugins.has(plugin.name)) {\r\n      console.warn(\r\n        `[hua] Plugin \"${plugin.name}\" is already registered. Overwriting...`\r\n      );\r\n    }\r\n\r\n    // ë¼ì´ì„ ìŠ¤ ê²€ì¦\r\n    if (plugin.license !== 'free') {\r\n      // í”ŒëŸ¬ê·¸ì¸ì˜ checkLicense í•¨ìˆ˜ê°€ ìˆìœ¼ë©´ ì‚¬ìš©\r\n      if (plugin.checkLicense) {\r\n        if (!plugin.checkLicense()) {\r\n          throw new Error(\r\n            `[hua] âŒ Plugin \"${plugin.name}\" requires a valid ${plugin.license} license.\\n` +\r\n            `[hua] âŒ Please purchase a ${plugin.license} license.`\r\n          );\r\n        }\r\n      } else {\r\n        // ê¸°ë³¸ ë¼ì´ì„ ìŠ¤ ê²€ì¦ (license feature ê¸°ë°˜)\r\n        // Note: Plugin features may not be in FEATURE_LICENSE_MAP, so this is a best-effort check\r\n        const feature = `plugin-${plugin.name}` as LicenseFeature;\r\n        if (!hasLicense(feature)) {\r\n          // ë¼ì´ì„ ìŠ¤ê°€ ì—†ì–´ë„ ê²½ê³ ë§Œ í‘œì‹œ (ê°œë°œ í™˜ê²½)\r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.warn(\r\n              `[hua] âš ï¸ Plugin \"${plugin.name}\" may require a ${plugin.license} license.\\n` +\r\n              `[hua] âš ï¸ Some features may not work without a valid license.`\r\n            );\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // í”ŒëŸ¬ê·¸ì¸ ë“±ë¡\r\n    this.plugins.set(plugin.name, plugin);\r\n\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.log(\r\n        `[hua] âœ… Plugin \"${plugin.name}\" v${plugin.version} registered successfully`\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * í”ŒëŸ¬ê·¸ì¸ ì´ˆê¸°í™” / Initialize plugin\r\n   * \r\n   * ë“±ë¡ëœ í”ŒëŸ¬ê·¸ì¸ì˜ init í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.\r\n   * Calls the init function of registered plugins.\r\n   * \r\n   * @param pluginName - í”ŒëŸ¬ê·¸ì¸ ì´ë¦„\r\n   * @param config - í”„ë ˆì„ì›Œí¬ ì„¤ì •\r\n   */\r\n  async initialize(pluginName: string, config: any): Promise<void> {\r\n    const plugin = this.plugins.get(pluginName);\r\n    if (!plugin) {\r\n      throw new Error(`[hua] Plugin \"${pluginName}\" not found`);\r\n    }\r\n\r\n    // ì´ë¯¸ ì´ˆê¸°í™”ëœ ê²½ìš° ìŠ¤í‚µ\r\n    if (this.initialized.has(pluginName)) {\r\n      return;\r\n    }\r\n\r\n    // init í•¨ìˆ˜ í˜¸ì¶œ\r\n    if (plugin.init) {\r\n      await plugin.init(config);\r\n      this.initialized.add(pluginName);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ëª¨ë“  í”ŒëŸ¬ê·¸ì¸ ì´ˆê¸°í™” / Initialize all plugins\r\n   * \r\n   * @param config - í”„ë ˆì„ì›Œí¬ ì„¤ì •\r\n   */\r\n  async initializeAll(config: any): Promise<void> {\r\n    const promises = Array.from(this.plugins.keys()).map(name =>\r\n      this.initialize(name, config)\r\n    );\r\n    await Promise.all(promises);\r\n  }\r\n\r\n  /**\r\n   * í”ŒëŸ¬ê·¸ì¸ ê°€ì ¸ì˜¤ê¸° / Get plugin\r\n   * \r\n   * @param name - í”ŒëŸ¬ê·¸ì¸ ì´ë¦„\r\n   * @returns í”ŒëŸ¬ê·¸ì¸ ë˜ëŠ” undefined\r\n   */\r\n  get(name: string): HuaPlugin | undefined {\r\n    return this.plugins.get(name);\r\n  }\r\n\r\n  /**\r\n   * ëª¨ë“  í”ŒëŸ¬ê·¸ì¸ ê°€ì ¸ì˜¤ê¸° / Get all plugins\r\n   * \r\n   * @returns í”ŒëŸ¬ê·¸ì¸ ë°°ì—´\r\n   */\r\n  getAll(): HuaPlugin[] {\r\n    return Array.from(this.plugins.values());\r\n  }\r\n\r\n  /**\r\n   * í”ŒëŸ¬ê·¸ì¸ ë“±ë¡ í•´ì œ / Unregister plugin\r\n   * \r\n   * @param name - í”ŒëŸ¬ê·¸ì¸ ì´ë¦„\r\n   */\r\n  unregister(name: string): void {\r\n    this.plugins.delete(name);\r\n    this.initialized.delete(name);\r\n  }\r\n\r\n  /**\r\n   * ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì´ˆê¸°í™” (í…ŒìŠ¤íŠ¸ìš©) / Reset registry (for testing)\r\n   */\r\n  reset(): void {\r\n    this.plugins.clear();\r\n    this.initialized.clear();\r\n  }\r\n}\r\n\r\n/**\r\n * ì „ì—­ í”ŒëŸ¬ê·¸ì¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì¸ìŠ¤í„´ìŠ¤ / Global plugin registry instance\r\n */\r\nexport const pluginRegistry = new PluginRegistry();\r\n\r\n/**\r\n * í”ŒëŸ¬ê·¸ì¸ ë“±ë¡ (í¸ì˜ í•¨ìˆ˜) / Register plugin (convenience function)\r\n * \r\n * @param plugin - ë“±ë¡í•  í”ŒëŸ¬ê·¸ì¸\r\n */\r\nexport function registerPlugin(plugin: HuaPlugin): void {\r\n  pluginRegistry.register(plugin);\r\n}\r\n\r\n/**\r\n * í”ŒëŸ¬ê·¸ì¸ ê°€ì ¸ì˜¤ê¸° (í¸ì˜ í•¨ìˆ˜) / Get plugin (convenience function)\r\n * \r\n * @param name - í”ŒëŸ¬ê·¸ì¸ ì´ë¦„\r\n * @returns í”ŒëŸ¬ê·¸ì¸ ë˜ëŠ” undefined\r\n */\r\nexport function getPlugin(name: string): HuaPlugin | undefined {\r\n  return pluginRegistry.get(name);\r\n}\r\n\r\n/**\r\n * ëª¨ë“  í”ŒëŸ¬ê·¸ì¸ ê°€ì ¸ì˜¤ê¸° (í¸ì˜ í•¨ìˆ˜) / Get all plugins (convenience function)\r\n * \r\n * @returns í”ŒëŸ¬ê·¸ì¸ ë°°ì—´\r\n */\r\nexport function getAllPlugins(): HuaPlugin[] {\r\n  return pluginRegistry.getAll();\r\n}\r\n","/**\r\n * @hua-labs/hua/framework - Config System (Client-safe)\r\n *\r\n * Client-safe configuration functions.\r\n * fs ëª¨ë“ˆì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ ë¸Œë¼ìš°ì €ì—ì„œ ì•ˆì „í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.\r\n */\r\n\r\nimport type { HuaConfig, Preset } from '../types';\r\nimport { validateConfig } from './schema';\r\nimport { mergePresetWithConfig, createConfigFromUserConfig } from './merge';\r\nimport { initLicense } from '../license';\r\nimport { pluginRegistry } from '../plugins';\r\n\r\n/**\r\n * Global config cache\r\n */\r\nlet cachedConfig: HuaConfig | null = null;\r\n\r\n/**\r\n * í”„ë ˆì„ì›Œí¬ ì„¤ì • ì •ì˜ / Define framework configuration\r\n *\r\n * IntelliSenseë¥¼ ì™„ë²½íˆ ì§€ì›í•˜ëŠ” ì„¤ì • í•¨ìˆ˜ì…ë‹ˆë‹¤.\r\n * Provides full IntelliSense support for configuration options.\r\n *\r\n * ëª¨ë“  ì˜µì…˜ì€ ì„ íƒì‚¬í•­ì´ë©° ê¸°ë³¸ê°’ ë˜ëŠ” Presetê³¼ ë³‘í•©ë©ë‹ˆë‹¤.\r\n * All options are optional and will be merged with defaults or Preset.\r\n *\r\n * **Zero-Config**: ì„¤ì • íŒŒì¼ì´ ì—†ì–´ë„ ê¸°ë³¸ê°’ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.\r\n * **Zero-Config**: Works with defaults even without a config file.\r\n *\r\n * **Preset ìš°ì„ **: `preset: 'product'`ë§Œ ì§€ì •í•´ë„ ëŒ€ë¶€ë¶„ì˜ ì„¤ì •ì´ ìë™ ì ìš©ë©ë‹ˆë‹¤.\r\n * **Preset First**: Just specify `preset: 'product'` and most settings are auto-applied.\r\n *\r\n * **ë°”ì´ë¸Œ ì½”ë”© ì¹œí™”ì **: AIê°€ ì´í•´í•˜ê¸° ì‰¬ìš´ í•œê¸€ ì£¼ì„ê³¼ ëª…ì‚¬ ì¤‘ì‹¬ ì„¤ì •\r\n * **Vibe Coding Friendly**: Korean comments and noun-centered settings for AI understanding\r\n *\r\n * @param config - ì„¤ì • ê°ì²´ / Configuration object\r\n * @returns ê²€ì¦ëœ ì„¤ì • ê°ì²´ / Validated configuration object\r\n *\r\n * @example\r\n * ```ts\r\n * // ìµœì†Œ ì„¤ì • (Presetë§Œ) - ë°”ì´ë¸Œ ì½”ë”ìš©\r\n * // hua.config.ts\r\n * import { defineConfig } from '@hua-labs/hua/framework';\r\n *\r\n * export default defineConfig({\r\n *   preset: 'product',  // ë! ë‚˜ë¨¸ì§€ëŠ” ìë™ ì„¤ì •\r\n * });\r\n * ```\r\n */\r\nexport function defineConfig(config: Partial<HuaConfig>): HuaConfig {\r\n  // ë¼ì´ì„ ìŠ¤ ì´ˆê¸°í™”\r\n  if (config.license) {\r\n    initLicense(config.license);\r\n  }\r\n\r\n  // í”ŒëŸ¬ê·¸ì¸ ë“±ë¡ ë° ì´ˆê¸°í™”\r\n  if (config.plugins && config.plugins.length > 0) {\r\n    config.plugins.forEach(plugin => {\r\n      pluginRegistry.register(plugin);\r\n    });\r\n  }\r\n\r\n  // Presetì´ ì§€ì •ëœ ê²½ìš° Presetê³¼ ë³‘í•©\r\n  if (config.preset) {\r\n    const { preset, ...userConfig } = config;\r\n    const merged = mergePresetWithConfig(preset, userConfig);\r\n    const validated = validateConfig(merged);\r\n\r\n    // í”ŒëŸ¬ê·¸ì¸ ì´ˆê¸°í™” (ì„¤ì •ì´ ì™„ë£Œëœ í›„)\r\n    if (config.plugins && config.plugins.length > 0) {\r\n      pluginRegistry.initializeAll(validated).catch((error: Error) => {\r\n        console.error('[hua] Plugin initialization error:', error);\r\n      });\r\n    }\r\n\r\n    return validated;\r\n  }\r\n\r\n  // Presetì´ ì—†ëŠ” ê²½ìš° ì‚¬ìš©ì ì„¤ì •ë§Œ ì‚¬ìš©\r\n  const merged = createConfigFromUserConfig(config);\r\n  const validated = validateConfig(merged);\r\n\r\n  // í”ŒëŸ¬ê·¸ì¸ ì´ˆê¸°í™” (ì„¤ì •ì´ ì™„ë£Œëœ í›„)\r\n  if (config.plugins && config.plugins.length > 0) {\r\n    pluginRegistry.initializeAll(validated).catch((error: Error) => {\r\n      console.error('[hua] Plugin initialization error:', error);\r\n    });\r\n  }\r\n\r\n  return validated;\r\n}\r\n\r\n/**\r\n * Get current configuration\r\n *\r\n * ìºì‹œëœ ì„¤ì •ì„ ë°˜í™˜í•˜ê±°ë‚˜, ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.\r\n *\r\n * **í´ë¼ì´ì–¸íŠ¸ ì•ˆì „**: ì–´ë””ì„œë“  ì•ˆì „í•˜ê²Œ í˜¸ì¶œ ê°€ëŠ¥í•©ë‹ˆë‹¤.\r\n * **Client Safe**: Safe to call anywhere.\r\n */\r\nexport function getConfig(): HuaConfig {\r\n  // ìºì‹œëœ ì„¤ì •ì´ ìˆìœ¼ë©´ ë°˜í™˜\r\n  if (cachedConfig) {\r\n    return cachedConfig;\r\n  }\r\n\r\n  // ê¸°ë³¸ê°’ ë°˜í™˜ (product preset)\r\n  cachedConfig = mergePresetWithConfig('product', {});\r\n  return cachedConfig;\r\n}\r\n\r\n/**\r\n * Set configuration (for testing or manual override)\r\n *\r\n * í…ŒìŠ¤íŠ¸ë‚˜ ìˆ˜ë™ ì˜¤ë²„ë¼ì´ë“œë¥¼ ìœ„í•œ ì„¤ì • ì„¤ì • í•¨ìˆ˜\r\n */\r\nexport function setConfig(config: HuaConfig): void {\r\n  cachedConfig = validateConfig(config);\r\n}\r\n\r\n/**\r\n * Reset configuration cache\r\n *\r\n * ì„¤ì • ìºì‹œë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. (ì£¼ë¡œ í…ŒìŠ¤íŠ¸ìš©)\r\n */\r\nexport function resetConfig(): void {\r\n  cachedConfig = null;\r\n}\r\n\r\n/**\r\n * Internal: Get cached config reference (for server module)\r\n */\r\nexport function _getCachedConfig(): HuaConfig | null {\r\n  return cachedConfig;\r\n}\r\n\r\n/**\r\n * Internal: Set cached config reference (for server module)\r\n */\r\nexport function _setCachedConfig(config: HuaConfig | null): void {\r\n  cachedConfig = config;\r\n}\r\n"]}