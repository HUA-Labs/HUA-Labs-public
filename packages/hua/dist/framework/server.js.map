{"version":3,"sources":["../../src/framework/seo/geo/types.ts","../../src/framework/seo/geo/structuredData.ts","../../src/framework/seo/geo/generateGEOMetadata.ts","../../src/framework/utils/metadata.ts","../../src/framework/branding/css-vars.ts","../../src/framework/branding/tailwind-config.ts","../../src/framework/middleware/i18n.ts","../../src/framework/utils/ssr-translations.ts","../../src/framework/config/schema.ts","../../src/presets/product.ts","../../src/presets/marketing.ts","../../src/framework/config/merge.ts","../../src/framework/config/client.ts","../../src/framework/config/server.ts"],"names":["META_NAMES","OG_PROPERTIES","normalizeToArray","value","joinNonEmpty","values","separator","nonEmpty","v","generateSoftwareApplicationLD","config","jsonLd","validAlternateNames","name","categories","categoryContent","languages","languageContent","techStack","techStackContent","featureList","keywordsContent","osContent","requirementsContent","generateFAQPageLD","faqs","validFaqs","faq","generateTechArticleLD","article","generateHowToLD","howTo","validSteps","step","index","isValidUrl","url","generateGEOMetadata","meta","openGraph","twitter","stringifiedCache","renderJSONLD","id","jsonString","createAIContext","parts","featureContent","useCaseContent","result","generatePageMetadata","options","title","description","seo","metadata","generateCSSVariables","branding","vars","key","generateCSSVariablesObject","generateTailwindConfig","colors","fontSize","NextResponseFactory","createI18nMiddleware","request","defaultLanguage","supportedLanguages","detectionStrategy","language","acceptLanguage","preferredLang","cookieLang","pathLang","queryLang","response","getSSRTranslations","translationsDir","namespaces","languageCodes","initialTranslations","translationsPath","path","lang","namespace","filePath","fs","fallbackPath","data","error","defaultConfig","validateConfig","styleToPreset","validated","productPreset","marketingPreset","PRESET_MAP","deepMerge","target","source","presetToConfig","preset","mergePresetWithConfig","userConfig","presetName","presetOverrides","presetData","presetConfig","presetWithOverrides","merged","createConfigFromUserConfig","cachedConfig","_getCachedConfig","_setCachedConfig","loadConfig","__require","configPath","configModule","loadedConfig","rest"],"mappings":"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","file":"server.js","sourcesContent":["/**\r\n * @hua-labs/hua/framework - GEO Types\r\n *\r\n * GEO (Generative Engine Optimization) types for AI search engine discoverability\r\n * ChatGPT, Claude, Gemini, Perplexity 같은 AI가 hua를 잘 찾고 추천하도록 하는 타입 정의\r\n */\r\n\r\n/**\r\n * Meta tag name constants\r\n * HTML meta 태그 이름 상수\r\n */\r\nexport const META_NAMES = {\r\n  DESCRIPTION: 'description',\r\n  KEYWORDS: 'keywords',\r\n  SOFTWARE_VERSION: 'software:version',\r\n  SOFTWARE_CATEGORY: 'software:category',\r\n  SOFTWARE_LANGUAGE: 'software:language',\r\n  AI_CONTEXT: 'ai:context',\r\n} as const;\r\n\r\n/**\r\n * Open Graph property constants\r\n * Open Graph 속성 상수\r\n */\r\nexport const OG_PROPERTIES = {\r\n  TITLE: 'og:title',\r\n  DESCRIPTION: 'og:description',\r\n  TYPE: 'og:type',\r\n  URL: 'og:url',\r\n  SITE_NAME: 'og:site_name',\r\n} as const;\r\n\r\n/**\r\n * Software Application Type\r\n * Schema.org SoftwareApplication types\r\n */\r\nexport type SoftwareApplicationType =\r\n  | 'WebApplication'\r\n  | 'MobileApplication'\r\n  | 'DesktopApplication'\r\n  | 'DeveloperApplication';\r\n\r\n/**\r\n * Programming Language\r\n * 프로그래밍 언어 (프레임워크가 아닌 실제 언어만)\r\n */\r\nexport type ProgrammingLanguage =\r\n  | 'TypeScript'\r\n  | 'JavaScript'\r\n  | 'Python'\r\n  | 'Java'\r\n  | 'Go'\r\n  | 'Rust'\r\n  | 'C#'\r\n  | 'C++'\r\n  | 'Ruby'\r\n  | 'PHP'\r\n  | 'Swift'\r\n  | 'Kotlin'\r\n  | 'Dart'\r\n  | (string & {}); // Allow custom strings for flexibility\r\n\r\n/**\r\n * Technology Stack\r\n * 기술 스택 (프레임워크, 라이브러리 등)\r\n */\r\nexport type TechnologyStack =\r\n  | 'React'\r\n  | 'Next.js'\r\n  | 'Vue'\r\n  | 'Angular'\r\n  | 'Svelte'\r\n  | 'Node.js'\r\n  | 'Express'\r\n  | 'Tailwind CSS'\r\n  | 'Zustand'\r\n  | 'Prisma'\r\n  | (string & {}); // Allow custom strings for flexibility\r\n\r\n/**\r\n * Software Category\r\n * Categories that help AI understand the software domain\r\n */\r\nexport type SoftwareCategory =\r\n  | 'UI Framework'\r\n  | 'Component Library'\r\n  | 'Developer Tool'\r\n  | 'UX Framework'\r\n  | 'Accessibility Tool'\r\n  | 'Internationalization Tool'\r\n  | 'Animation Library';\r\n\r\n/**\r\n * GEO Configuration\r\n * AI 검색 엔진이 이해하기 쉬운 구조화된 메타데이터 설정\r\n */\r\nexport interface GEOConfig {\r\n  /**\r\n   * Software name\r\n   * AI가 참조할 소프트웨어 이름\r\n   */\r\n  name: string;\r\n\r\n  /**\r\n   * Alternative names or aliases\r\n   * 대체 이름 또는 별칭 (예: \"hua\", \"@hua-labs/hua\")\r\n   */\r\n  alternateName?: string[];\r\n\r\n  /**\r\n   * Clear, concise description\r\n   * AI가 이해하기 쉬운 명확하고 간결한 설명 (1-2 문장)\r\n   */\r\n  description: string;\r\n\r\n  /**\r\n   * Software version\r\n   */\r\n  version?: string;\r\n\r\n  /**\r\n   * Application category\r\n   * Schema.org applicationCategory\r\n   */\r\n  applicationCategory?: SoftwareCategory | SoftwareCategory[];\r\n\r\n  /**\r\n   * Programming language(s)\r\n   * 프로그래밍 언어 (TypeScript, JavaScript, Python 등)\r\n   */\r\n  programmingLanguage?: ProgrammingLanguage | ProgrammingLanguage[];\r\n\r\n  /**\r\n   * Technology stack\r\n   * 기술 스택 (React, Next.js, Vue 등)\r\n   */\r\n  technologyStack?: TechnologyStack | TechnologyStack[];\r\n\r\n  /**\r\n   * Software type\r\n   */\r\n  applicationType?: SoftwareApplicationType;\r\n\r\n  /**\r\n   * Homepage URL\r\n   */\r\n  url?: string;\r\n\r\n  /**\r\n   * Documentation URL\r\n   */\r\n  documentationUrl?: string;\r\n\r\n  /**\r\n   * Repository URL (GitHub, GitLab, etc.)\r\n   */\r\n  codeRepository?: string;\r\n\r\n  /**\r\n   * License type (MIT, Apache-2.0, etc.)\r\n   */\r\n  license?: string;\r\n\r\n  /**\r\n   * Author or organization\r\n   */\r\n  author?: {\r\n    name: string;\r\n    url?: string;\r\n  };\r\n\r\n  /**\r\n   * Key features\r\n   * AI가 쉽게 참조할 수 있는 주요 기능 목록\r\n   */\r\n  features?: string[];\r\n\r\n  /**\r\n   * Use cases\r\n   * AI가 추천할 때 사용할 유스케이스 예시\r\n   */\r\n  useCases?: string[];\r\n\r\n  /**\r\n   * Keywords for AI discovery\r\n   * AI 검색을 위한 키워드\r\n   */\r\n  keywords?: string[];\r\n\r\n  /**\r\n   * Operating system compatibility\r\n   */\r\n  operatingSystem?: string[];\r\n\r\n  /**\r\n   * Software requirements or dependencies\r\n   */\r\n  softwareRequirements?: string[];\r\n\r\n  /**\r\n   * Related software or alternatives\r\n   * AI가 비교/추천할 때 사용할 관련 소프트웨어\r\n   */\r\n  relatedTo?: string[];\r\n}\r\n\r\n/**\r\n * Utility types for better developer experience\r\n * 더 나은 개발자 경험을 위한 유틸리티 타입\r\n */\r\n\r\n/**\r\n * Required GEO config fields\r\n * 필수 GEO 설정 필드\r\n */\r\nexport type RequiredGEOConfig = Required<Pick<GEOConfig, 'name' | 'description'>>;\r\n\r\n/**\r\n * Optional GEO config fields\r\n * 선택적 GEO 설정 필드\r\n */\r\nexport type OptionalGEOConfig = Partial<Omit<GEOConfig, 'name' | 'description'>>;\r\n\r\n/**\r\n * GEO config input type\r\n * GEO 설정 입력 타입 (필수 + 선택)\r\n */\r\nexport type GEOConfigInput = RequiredGEOConfig & OptionalGEOConfig;\r\n\r\n/**\r\n * Type guard for GEO config validation\r\n * GEO 설정 유효성 검사를 위한 타입 가드\r\n * \r\n * @param config - Unknown value to check\r\n * @returns True if config is a valid GEOConfig\r\n * \r\n * @example\r\n * ```tsx\r\n * if (isValidGEOConfig(userInput)) {\r\n *   const geoMeta = generateGEOMetadata(userInput);\r\n * }\r\n * ```\r\n */\r\nexport function isValidGEOConfig(config: unknown): config is GEOConfig {\r\n  return (\r\n    typeof config === 'object' &&\r\n    config !== null &&\r\n    'name' in config &&\r\n    'description' in config &&\r\n    typeof (config as { name: unknown }).name === 'string' &&\r\n    typeof (config as { description: unknown }).description === 'string'\r\n  );\r\n}\r\n\r\n/**\r\n * Structured Data (Schema.org JSON-LD)\r\n * AI가 파싱하기 쉬운 구조화된 데이터\r\n */\r\nexport interface StructuredData {\r\n  '@context': 'https://schema.org';\r\n  '@type':\r\n    | 'SoftwareApplication'\r\n    | 'FAQPage'\r\n    | 'TechArticle'\r\n    | 'HowTo'\r\n    | 'Question'\r\n    | 'Answer'\r\n    | 'Organization'\r\n    | 'CreativeWork'\r\n    | 'Code'\r\n    | 'VideoObject';\r\n  [key: string]: string | number | boolean | object | unknown[] | undefined;\r\n}\r\n\r\n/**\r\n * GEO Metadata Result\r\n * generateGEOMetadata() 함수의 반환 타입\r\n */\r\nexport interface GEOMetadata {\r\n  /**\r\n   * HTML meta tags\r\n   */\r\n  meta: {\r\n    name: string;\r\n    content: string;\r\n  }[];\r\n\r\n  /**\r\n   * JSON-LD structured data\r\n   * Schema.org 구조화된 데이터\r\n   */\r\n  jsonLd: StructuredData[];\r\n\r\n  /**\r\n   * Open Graph tags for social/AI sharing\r\n   */\r\n  openGraph?: {\r\n    property: string;\r\n    content: string;\r\n  }[];\r\n\r\n  /**\r\n   * Twitter Card tags\r\n   */\r\n  twitter?: {\r\n    name: string;\r\n    content: string;\r\n  }[];\r\n\r\n  /**\r\n   * Schema version\r\n   * GEO 메타데이터 스키마 버전 (향후 마이그레이션 및 디버깅용)\r\n   */\r\n  version?: string;\r\n}\r\n","/**\r\n * @hua-labs/hua/framework - Structured Data Helpers\r\n *\r\n * Schema.org JSON-LD helpers for AI search engines\r\n * AI 검색 엔진이 이해하기 쉬운 구조화된 데이터 생성\r\n */\r\n\r\nimport type {\r\n  GEOConfig,\r\n  StructuredData,\r\n  SoftwareApplicationType,\r\n  ProgrammingLanguage,\r\n  SoftwareCategory,\r\n  TechnologyStack,\r\n} from './types';\r\n\r\n/**\r\n * Normalize array (single value or array to array)\r\n */\r\nfunction normalizeToArray<T>(value: T | T[] | undefined): T[] {\r\n  if (value === undefined) return [];\r\n  return Array.isArray(value) ? value : [value];\r\n}\r\n\r\n/**\r\n * Join non-empty array values\r\n */\r\nfunction joinNonEmpty(values: string[] | undefined, separator: string): string | undefined {\r\n  if (!values || values.length === 0) return undefined;\r\n  const nonEmpty = values.filter(v => v && v.trim().length > 0);\r\n  return nonEmpty.length > 0 ? nonEmpty.join(separator) : undefined;\r\n}\r\n\r\n/**\r\n * Generate Schema.org SoftwareApplication JSON-LD\r\n *\r\n * AI 검색 엔진이 소프트웨어를 정확하게 이해하도록 Schema.org 구조화된 데이터 생성\r\n *\r\n * @param config - GEO configuration\r\n * @returns Schema.org JSON-LD structured data\r\n *\r\n * @example\r\n * ```tsx\r\n * const jsonLd = generateSoftwareApplicationLD({\r\n *   name: 'hua',\r\n *   description: 'Privacy-first UX framework for Next.js',\r\n *   version: '1.0.0',\r\n *   applicationCategory: 'UX Framework',\r\n *   programmingLanguage: ['TypeScript', 'React'],\r\n *   features: ['i18n', 'Motion', 'Accessibility'],\r\n * });\r\n * ```\r\n */\r\nexport function generateSoftwareApplicationLD(config: GEOConfig): StructuredData {\r\n  const jsonLd: StructuredData = {\r\n    '@context': 'https://schema.org',\r\n    '@type': 'SoftwareApplication',\r\n    name: config.name,\r\n    description: config.description,\r\n  };\r\n\r\n  // Alternative names (filter empty values)\r\n  const alternateNames = normalizeToArray(config.alternateName);\r\n  const validAlternateNames = alternateNames.filter(name => name && name.trim().length > 0);\r\n  if (validAlternateNames.length > 0) {\r\n    jsonLd.alternateName = validAlternateNames;\r\n  }\r\n\r\n  // Version\r\n  if (config.version) {\r\n    jsonLd.softwareVersion = config.version;\r\n  }\r\n\r\n  // Application category (filter empty values)\r\n  const categories = normalizeToArray(config.applicationCategory);\r\n  const categoryContent = joinNonEmpty(categories, ', ');\r\n  if (categoryContent) {\r\n    jsonLd.applicationCategory = categoryContent;\r\n  }\r\n\r\n  // Programming language (filter empty values)\r\n  const languages = normalizeToArray(config.programmingLanguage);\r\n  const languageContent = joinNonEmpty(languages, ', ');\r\n  if (languageContent) {\r\n    jsonLd.programmingLanguage = languageContent;\r\n  }\r\n\r\n  // Technology stack (filter empty values)\r\n  // Note: Schema.org doesn't have a direct \"technologyStack\" field,\r\n  // so we include it in keywords for AI discoverability\r\n  const techStack = normalizeToArray(config.technologyStack);\r\n  const techStackContent = joinNonEmpty(techStack, ', ');\r\n  if (techStackContent && jsonLd.keywords) {\r\n    // Append to existing keywords\r\n    jsonLd.keywords = `${jsonLd.keywords}, ${techStackContent}`;\r\n  } else if (techStackContent) {\r\n    // Create keywords if doesn't exist\r\n    jsonLd.keywords = techStackContent;\r\n  }\r\n\r\n  // Application type\r\n  if (config.applicationType) {\r\n    jsonLd.applicationSubType = config.applicationType;\r\n  }\r\n\r\n  // URLs\r\n  if (config.url) {\r\n    jsonLd.url = config.url;\r\n  }\r\n\r\n  if (config.documentationUrl) {\r\n    jsonLd.softwareHelp = {\r\n      '@type': 'CreativeWork',\r\n      url: config.documentationUrl,\r\n    };\r\n  }\r\n\r\n  if (config.codeRepository) {\r\n    jsonLd.codeRepository = config.codeRepository;\r\n  }\r\n\r\n  // License\r\n  if (config.license) {\r\n    jsonLd.license = config.license;\r\n  }\r\n\r\n  // Author\r\n  if (config.author) {\r\n    jsonLd.author = {\r\n      '@type': 'Organization',\r\n      name: config.author.name,\r\n      ...(config.author.url && { url: config.author.url }),\r\n    };\r\n  }\r\n\r\n  // Features as keywords (filter empty values)\r\n  const featureList = joinNonEmpty(config.features, ', ');\r\n  if (featureList) {\r\n    jsonLd.featureList = featureList;\r\n  }\r\n\r\n  // Keywords (filter empty values)\r\n  const keywordsContent = joinNonEmpty(config.keywords, ', ');\r\n  if (keywordsContent) {\r\n    jsonLd.keywords = keywordsContent;\r\n  }\r\n\r\n  // Operating system (filter empty values)\r\n  const osContent = joinNonEmpty(config.operatingSystem, ', ');\r\n  if (osContent) {\r\n    jsonLd.operatingSystem = osContent;\r\n  }\r\n\r\n  // Software requirements (filter empty values)\r\n  const requirementsContent = joinNonEmpty(config.softwareRequirements, ', ');\r\n  if (requirementsContent) {\r\n    jsonLd.softwareRequirements = requirementsContent;\r\n  }\r\n\r\n  return jsonLd;\r\n}\r\n\r\n/**\r\n * Generate Schema.org Code JSON-LD\r\n *\r\n * AI가 코드 스니펫과 예제를 이해하도록 Code 구조화된 데이터 생성\r\n *\r\n * @param code - Code configuration\r\n * @returns Schema.org Code JSON-LD\r\n *\r\n * @example\r\n * ```tsx\r\n * const codeLd = generateCodeLD({\r\n *   programmingLanguage: 'TypeScript',\r\n *   text: 'const x = 1;',\r\n *   name: 'Example Code',\r\n * });\r\n * ```\r\n */\r\nexport function generateCodeLD(code: {\r\n  programmingLanguage: string;\r\n  text: string;\r\n  name?: string;\r\n}): StructuredData {\r\n  return {\r\n    '@context': 'https://schema.org',\r\n    '@type': 'Code',\r\n    programmingLanguage: code.programmingLanguage,\r\n    text: code.text,\r\n    ...(code.name && { name: code.name }),\r\n  };\r\n}\r\n\r\n/**\r\n * Generate Schema.org VideoObject JSON-LD\r\n *\r\n * AI가 튜토리얼 비디오를 이해하고 추천할 수 있도록 VideoObject 구조화된 데이터 생성\r\n *\r\n * @param video - Video configuration\r\n * @returns Schema.org VideoObject JSON-LD\r\n *\r\n * @example\r\n * ```tsx\r\n * const videoLd = generateVideoLD({\r\n *   name: 'Getting Started with hua',\r\n *   description: 'Learn how to build with hua',\r\n *   thumbnailUrl: 'https://example.com/thumb.jpg',\r\n *   uploadDate: '2025-12-29',\r\n *   duration: 'PT10M30S',\r\n * });\r\n * ```\r\n */\r\nexport function generateVideoLD(video: {\r\n  name: string;\r\n  description: string;\r\n  thumbnailUrl: string;\r\n  uploadDate: string;\r\n  duration?: string;\r\n  contentUrl?: string;\r\n}): StructuredData {\r\n  return {\r\n    '@context': 'https://schema.org',\r\n    '@type': 'VideoObject',\r\n    name: video.name,\r\n    description: video.description,\r\n    thumbnailUrl: video.thumbnailUrl,\r\n    uploadDate: video.uploadDate,\r\n    ...(video.duration && { duration: video.duration }),\r\n    ...(video.contentUrl && { contentUrl: video.contentUrl }),\r\n  };\r\n}\r\n\r\n/**\r\n * Generate Schema.org Organization JSON-LD\r\n *\r\n * AI가 조직/회사 정보를 이해하도록 Organization 구조화된 데이터 생성\r\n *\r\n * @param org - Organization configuration\r\n * @returns Schema.org Organization JSON-LD\r\n *\r\n * @example\r\n * ```tsx\r\n * const orgLd = generateOrganizationLD({\r\n *   name: 'hua-labs',\r\n *   url: 'https://example.com', // TODO: Update when domain is available\r\n *   logo: 'https://example.com/logo.png', // TODO: Update when domain is available\r\n *   description: 'Privacy-first development tools',\r\n * });\r\n * ```\r\n */\r\nexport function generateOrganizationLD(org: {\r\n  name: string;\r\n  url?: string;\r\n  logo?: string;\r\n  description?: string;\r\n}): StructuredData {\r\n  return {\r\n    '@context': 'https://schema.org',\r\n    '@type': 'Organization',\r\n    name: org.name,\r\n    ...(org.url && { url: org.url }),\r\n    ...(org.logo && { logo: org.logo }),\r\n    ...(org.description && { description: org.description }),\r\n  };\r\n}\r\n\r\n/**\r\n * Generate Schema.org FAQPage JSON-LD\r\n *\r\n * AI가 자주 묻는 질문에 답변할 수 있도록 FAQ 구조화된 데이터 생성\r\n *\r\n * @param faqs - Array of FAQ items\r\n * @returns Schema.org FAQ JSON-LD\r\n *\r\n * @example\r\n * ```tsx\r\n * const faqLd = generateFAQPageLD([\r\n *   {\r\n *     question: 'What is hua?',\r\n *     answer: 'hua is a privacy-first UX framework for Next.js applications.',\r\n *   },\r\n *   {\r\n *     question: 'How do I install hua?',\r\n *     answer: 'Run: npx @hua-labs/create-hua my-app',\r\n *   },\r\n * ]);\r\n * ```\r\n */\r\nexport function generateFAQPageLD(\r\n  faqs: Array<{ question: string; answer: string }>\r\n): StructuredData {\r\n  // Input validation\r\n  if (!faqs || faqs.length === 0) {\r\n    throw new Error('FAQPage requires at least one FAQ item');\r\n  }\r\n\r\n  // Filter and validate FAQ items\r\n  const validFaqs = faqs.filter(faq => {\r\n    return faq.question?.trim() && faq.answer?.trim();\r\n  });\r\n\r\n  if (validFaqs.length === 0) {\r\n    throw new Error('All FAQ items have empty questions or answers');\r\n  }\r\n\r\n  return {\r\n    '@context': 'https://schema.org',\r\n    '@type': 'FAQPage',\r\n    mainEntity: validFaqs.map((faq) => ({\r\n      '@type': 'Question',\r\n      name: faq.question.trim(),\r\n      acceptedAnswer: {\r\n        '@type': 'Answer',\r\n        text: faq.answer.trim(),\r\n      },\r\n    })),\r\n  };\r\n}\r\n\r\n/**\r\n * Generate Schema.org TechArticle JSON-LD\r\n *\r\n * AI가 기술 문서를 정확하게 이해하도록 기술 아티클 구조화된 데이터 생성\r\n *\r\n * @param article - Article configuration\r\n * @returns Schema.org TechArticle JSON-LD\r\n *\r\n * @example\r\n * ```tsx\r\n * const articleLd = generateTechArticleLD({\r\n *   headline: 'Getting Started with hua',\r\n *   description: 'Learn how to build privacy-first UX with hua',\r\n *   datePublished: '2025-12-29',\r\n *   author: { name: 'hua-labs' },\r\n * });\r\n * ```\r\n */\r\nexport function generateTechArticleLD(article: {\r\n  headline: string;\r\n  description?: string;\r\n  datePublished?: string;\r\n  dateModified?: string;\r\n  author?: { name: string; url?: string };\r\n  image?: string;\r\n}): StructuredData {\r\n  return {\r\n    '@context': 'https://schema.org',\r\n    '@type': 'TechArticle',\r\n    headline: article.headline,\r\n    ...(article.description && { description: article.description }),\r\n    ...(article.datePublished && { datePublished: article.datePublished }),\r\n    ...(article.dateModified && { dateModified: article.dateModified }),\r\n    ...(article.author && {\r\n      author: {\r\n        '@type': 'Organization',\r\n        name: article.author.name,\r\n        ...(article.author.url && { url: article.author.url }),\r\n      },\r\n    }),\r\n    ...(article.image && { image: article.image }),\r\n  };\r\n}\r\n\r\n/**\r\n * Generate Schema.org HowTo JSON-LD\r\n *\r\n * AI가 튜토리얼/가이드를 이해하고 추천할 수 있도록 HowTo 구조화된 데이터 생성\r\n *\r\n * @param howTo - HowTo configuration\r\n * @returns Schema.org HowTo JSON-LD\r\n *\r\n * @example\r\n * ```tsx\r\n * const howToLd = generateHowToLD({\r\n *   name: 'How to add i18n to your Next.js app',\r\n *   description: 'Step-by-step guide to internationalization',\r\n *   steps: [\r\n *     { name: 'Install hua', text: 'Run: npx @hua-labs/create-hua my-app' },\r\n *     { name: 'Configure i18n', text: 'Add locales to your config' },\r\n *   ],\r\n * });\r\n * ```\r\n */\r\nexport function generateHowToLD(howTo: {\r\n  name: string;\r\n  description?: string;\r\n  steps: Array<{ name: string; text: string; image?: string }>;\r\n  totalTime?: string;\r\n}): StructuredData {\r\n  // Input validation\r\n  if (!howTo.name || howTo.name.trim().length === 0) {\r\n    throw new Error('HowTo.name is required and cannot be empty');\r\n  }\r\n\r\n  if (!howTo.steps || howTo.steps.length === 0) {\r\n    throw new Error('HowTo requires at least one step');\r\n  }\r\n\r\n  // Filter and validate steps\r\n  const validSteps = howTo.steps\r\n    .filter(step => step.name?.trim() && step.text?.trim())\r\n    .map((step, index) => ({\r\n      '@type': 'HowToStep' as const,\r\n      position: index + 1,\r\n      name: step.name.trim(),\r\n      text: step.text.trim(),\r\n      ...(step.image && { image: step.image }),\r\n    }));\r\n\r\n  if (validSteps.length === 0) {\r\n    throw new Error('All HowTo steps have empty names or text');\r\n  }\r\n\r\n  return {\r\n    '@context': 'https://schema.org',\r\n    '@type': 'HowTo',\r\n    name: howTo.name.trim(),\r\n    step: validSteps,\r\n    ...(howTo.description && { description: howTo.description }),\r\n    ...(howTo.totalTime && { totalTime: howTo.totalTime }),\r\n  };\r\n}\r\n","/**\r\n * @hua-labs/hua/framework - GEO Metadata Generator\r\n *\r\n * Generate AI-friendly metadata for Generative Engine Optimization (GEO)\r\n * ChatGPT, Claude, Gemini, Perplexity가 hua를 잘 찾고 추천하도록 메타데이터 생성\r\n */\r\n\r\nimport type { GEOConfig, GEOMetadata } from './types';\r\nimport { META_NAMES, OG_PROPERTIES } from './types';\r\nimport { generateSoftwareApplicationLD } from './structuredData';\r\n\r\n/**\r\n * Generate GEO (Generative Engine Optimization) Metadata\r\n *\r\n * AI 검색 엔진이 소프트웨어를 정확하게 이해하고 추천할 수 있도록\r\n * 구조화된 메타데이터를 생성합니다.\r\n *\r\n * Generate structured metadata that helps AI search engines (ChatGPT, Claude,\r\n * Gemini, Perplexity) accurately understand and recommend your software.\r\n *\r\n * @param config - GEO configuration\r\n * @returns Object containing:\r\n *   - `meta`: Array of HTML meta tags with name and content\r\n *   - `jsonLd`: Array of Schema.org JSON-LD structured data objects\r\n *   - `openGraph`: Array of Open Graph meta tags (optional)\r\n *   - `twitter`: Array of Twitter Card meta tags (optional)\r\n *\r\n * @throws {Error} If config.name or config.description is empty\r\n * @throws {Error} If config.url is provided but invalid\r\n * @throws {Error} If config.codeRepository is provided but invalid\r\n * @throws {Error} If config.documentationUrl is provided but invalid\r\n *\r\n * @example\r\n * ```tsx\r\n * // Basic usage\r\n * const geoMetadata = generateGEOMetadata({\r\n *   name: 'hua',\r\n *   description: 'Privacy-first UX framework for Next.js with built-in i18n, motion, and accessibility',\r\n *   version: '1.0.0',\r\n *   applicationCategory: ['UX Framework', 'Developer Tool'],\r\n *   programmingLanguage: ['TypeScript', 'React', 'Next.js'],\r\n *   features: [\r\n *     'Privacy-first architecture',\r\n *     'Built-in internationalization (i18n)',\r\n *     'Motion animations with hua-motion',\r\n *     'WCAG 2.1 compliant accessibility',\r\n *     'Automatic error handling',\r\n *     'Loading state optimization',\r\n *   ],\r\n *   useCases: [\r\n *     'Building multilingual Next.js applications',\r\n *     'Creating accessible web applications',\r\n *     'Rapid prototyping with AI-friendly documentation',\r\n *   ],\r\n *   keywords: [\r\n *     'nextjs',\r\n *     'react',\r\n *     'ux',\r\n *     'i18n',\r\n *     'internationalization',\r\n *     'accessibility',\r\n *     'a11y',\r\n *     'motion',\r\n *     'animation',\r\n *     'privacy',\r\n *   ],\r\n *   codeRepository: 'https://github.com/hua-labs/hua',\r\n *   documentationUrl: 'https://github.com/HUA-Labs/HUA-Labs-public', // TODO: Update when domain is available\r\n *   license: 'MIT',\r\n *   author: {\r\n *     name: 'hua-labs',\r\n *     url: 'https://github.com/HUA-Labs/HUA-Labs-public', // TODO: Update when domain is available\r\n *   },\r\n * });\r\n * ```\r\n *\r\n * @example\r\n * ```tsx\r\n * // Use with Next.js metadata\r\n * import { generateGEOMetadata } from '@hua-labs/hua/framework';\r\n *\r\n * export async function generateMetadata() {\r\n *   const geoMeta = generateGEOMetadata({\r\n *     name: 'My App',\r\n *     description: 'Built with hua',\r\n *     features: ['i18n', 'Dark mode', 'Responsive'],\r\n *   });\r\n *\r\n *   return {\r\n *     title: 'My App',\r\n *     description: geoMeta.meta.find(m => m.name === 'description')?.content,\r\n *     // Add JSON-LD to page\r\n *     other: {\r\n *       'script:ld+json': JSON.stringify(geoMeta.jsonLd),\r\n *     },\r\n *   };\r\n * }\r\n * ```\r\n */\r\n\r\n/**\r\n * Validate URL format\r\n */\r\nfunction isValidUrl(url: string): boolean {\r\n  try {\r\n    new URL(url);\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * Normalize array (single value or array to array)\r\n */\r\nfunction normalizeToArray<T>(value: T | T[] | undefined): T[] {\r\n  if (value === undefined) return [];\r\n  return Array.isArray(value) ? value : [value];\r\n}\r\n\r\n/**\r\n * Join non-empty array values\r\n */\r\nfunction joinNonEmpty(values: string[] | undefined, separator: string): string | undefined {\r\n  if (!values || values.length === 0) return undefined;\r\n  const nonEmpty = values.filter(v => v && v.trim().length > 0);\r\n  return nonEmpty.length > 0 ? nonEmpty.join(separator) : undefined;\r\n}\r\n\r\n/**\r\n * Convert meta tags array to object\r\n * \r\n * 메타 태그 배열을 객체로 변환 (Next.js metadata API에서 사용)\r\n * \r\n * @param meta - Array of meta tags\r\n * @returns Object with meta tag names as keys\r\n * \r\n * @example\r\n * ```tsx\r\n * const metaObj = metaToObject(geoMeta.meta);\r\n * return {\r\n *   title: 'My App',\r\n *   description: metaObj.description,\r\n *   keywords: metaObj.keywords,\r\n * };\r\n * ```\r\n */\r\nexport function metaToObject(meta: GEOMetadata['meta']): Record<string, string> {\r\n  return Object.fromEntries(meta.map(m => [m.name, m.content]));\r\n}\r\n\r\n/**\r\n * Convert Open Graph tags array to object\r\n * \r\n * Open Graph 태그 배열을 객체로 변환\r\n * \r\n * @param og - Array of Open Graph tags\r\n * @returns Object with Open Graph properties as keys\r\n * \r\n * @example\r\n * ```tsx\r\n * const ogObj = openGraphToObject(geoMeta.openGraph);\r\n * return {\r\n *   openGraph: {\r\n *     title: ogObj['og:title'],\r\n *     description: ogObj['og:description'],\r\n *   },\r\n * };\r\n * ```\r\n */\r\nexport function openGraphToObject(og: GEOMetadata['openGraph']): Record<string, string> {\r\n  if (!og) return {};\r\n  return Object.fromEntries(og.map(o => [o.property, o.content]));\r\n}\r\n\r\nexport function generateGEOMetadata(config: GEOConfig): GEOMetadata {\r\n  // Input validation\r\n  if (!config.name || config.name.trim().length === 0) {\r\n    throw new Error('GEOConfig.name is required and cannot be empty');\r\n  }\r\n\r\n  if (!config.description || config.description.trim().length === 0) {\r\n    throw new Error('GEOConfig.description is required and cannot be empty');\r\n  }\r\n\r\n  if (config.description.length > 160) {\r\n    console.warn(\r\n      `[GEO] Description is ${config.description.length} characters. ` +\r\n      `Consider keeping it under 160 for better AI parsing.`\r\n    );\r\n  }\r\n\r\n  if (config.url && !isValidUrl(config.url)) {\r\n    throw new Error(`GEOConfig.url must be a valid URL: ${config.url}`);\r\n  }\r\n\r\n  if (config.codeRepository && !isValidUrl(config.codeRepository)) {\r\n    throw new Error(`GEOConfig.codeRepository must be a valid URL: ${config.codeRepository}`);\r\n  }\r\n\r\n  if (config.documentationUrl && !isValidUrl(config.documentationUrl)) {\r\n    throw new Error(`GEOConfig.documentationUrl must be a valid URL: ${config.documentationUrl}`);\r\n  }\r\n\r\n  // Generate meta tags\r\n  const meta: Array<{ name: string; content: string }> = [\r\n    {\r\n      name: META_NAMES.DESCRIPTION,\r\n      content: config.description,\r\n    },\r\n  ];\r\n\r\n  // Add keywords meta tag (filter empty values)\r\n  const keywordsContent = joinNonEmpty(config.keywords, ', ');\r\n  if (keywordsContent) {\r\n    meta.push({\r\n      name: META_NAMES.KEYWORDS,\r\n      content: keywordsContent,\r\n    });\r\n  }\r\n\r\n  // Add software-specific meta tags\r\n  if (config.version) {\r\n    meta.push({\r\n      name: META_NAMES.SOFTWARE_VERSION,\r\n      content: config.version,\r\n    });\r\n  }\r\n\r\n  const categories = normalizeToArray(config.applicationCategory);\r\n  const categoryContent = joinNonEmpty(categories, ', ');\r\n  if (categoryContent) {\r\n    meta.push({\r\n      name: META_NAMES.SOFTWARE_CATEGORY,\r\n      content: categoryContent,\r\n    });\r\n  }\r\n\r\n  const languages = normalizeToArray(config.programmingLanguage);\r\n  const languageContent = joinNonEmpty(languages, ', ');\r\n  if (languageContent) {\r\n    meta.push({\r\n      name: META_NAMES.SOFTWARE_LANGUAGE,\r\n      content: languageContent,\r\n    });\r\n  }\r\n\r\n  // Generate JSON-LD structured data\r\n  const jsonLd = [generateSoftwareApplicationLD(config)];\r\n\r\n  // Generate Open Graph tags\r\n  const openGraph: Array<{ property: string; content: string }> = [\r\n    {\r\n      property: OG_PROPERTIES.TITLE,\r\n      content: config.name,\r\n    },\r\n    {\r\n      property: OG_PROPERTIES.DESCRIPTION,\r\n      content: config.description,\r\n    },\r\n    {\r\n      property: OG_PROPERTIES.TYPE,\r\n      content: 'website',\r\n    },\r\n  ];\r\n\r\n  if (config.url) {\r\n    openGraph.push({\r\n      property: OG_PROPERTIES.URL,\r\n      content: config.url,\r\n    });\r\n  }\r\n\r\n  // Add Open Graph article tags for software\r\n  if (config.author) {\r\n    openGraph.push({\r\n      property: OG_PROPERTIES.SITE_NAME,\r\n      content: config.author.name,\r\n    });\r\n  }\r\n\r\n  // Generate Twitter Card tags\r\n  const twitter = [\r\n    {\r\n      name: 'twitter:card',\r\n      content: 'summary_large_image',\r\n    },\r\n    {\r\n      name: 'twitter:title',\r\n      content: config.name,\r\n    },\r\n    {\r\n      name: 'twitter:description',\r\n      content: config.description,\r\n    },\r\n  ];\r\n\r\n  return {\r\n    meta,\r\n    jsonLd,\r\n    openGraph,\r\n    twitter,\r\n    version: '1.0.0', // Schema version for future migrations and debugging\r\n  };\r\n}\r\n\r\n/**\r\n * JSON-LD stringification cache\r\n * 동일한 객체를 여러 번 렌더링할 때 성능 최적화를 위한 캐시\r\n */\r\nconst stringifiedCache = new WeakMap<object, string>();\r\n\r\n/**\r\n * Render JSON-LD for Next.js Script component\r\n * \r\n * XSS 보안을 위해 위험한 문자를 이스케이프합니다.\r\n * Escapes dangerous characters for XSS security.\r\n * \r\n * Next.js에서 사용할 수 있는 JSON-LD script 태그 생성\r\n * \r\n * @param jsonLd - JSON-LD structured data\r\n * @param id - Optional script ID (default: auto-generated)\r\n * @returns Props for Next.js Script component with:\r\n *   - `id`: Unique script ID\r\n *   - `type`: 'application/ld+json'\r\n *   - `dangerouslySetInnerHTML.__html`: Escaped JSON string\r\n * \r\n * @example\r\n * ```tsx\r\n * import Script from 'next/script';\r\n * import { renderJSONLD } from '@hua-labs/hua/framework';\r\n *\r\n * const geoMeta = generateGEOMetadata({ ... });\r\n *\r\n * export default function Page() {\r\n *   return (\r\n *     <>\r\n *       <Script {...renderJSONLD(geoMeta.jsonLd[0])} />\r\n *       <main>...</main>\r\n *     </>\r\n *   );\r\n * }\r\n * ```\r\n */\r\nexport function renderJSONLD(jsonLd: unknown, id?: string): {\r\n  id: string;\r\n  type: string;\r\n  dangerouslySetInnerHTML: { __html: string };\r\n} {\r\n  let jsonString: string;\r\n\r\n  // 캐시된 문자열이 있으면 재사용 (성능 최적화)\r\n  // Reuse cached string if available (performance optimization)\r\n  if (typeof jsonLd === 'object' && jsonLd !== null) {\r\n    if (stringifiedCache.has(jsonLd)) {\r\n      jsonString = stringifiedCache.get(jsonLd)!;\r\n    } else {\r\n      // XSS 보안: </script> 태그가 JSON 문자열에 포함되어도 안전하게 이스케이프\r\n      // XSS Security: Escape dangerous characters even if </script> appears in JSON string\r\n      jsonString = JSON.stringify(jsonLd)\r\n        .replace(/</g, '\\\\u003c')\r\n        .replace(/>/g, '\\\\u003e')\r\n        .replace(/&/g, '\\\\u0026');\r\n      stringifiedCache.set(jsonLd, jsonString);\r\n    }\r\n  } else {\r\n    // 원시 타입은 캐싱하지 않음\r\n    jsonString = String(jsonLd);\r\n  }\r\n\r\n  return {\r\n    id: id || `jsonld-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`,\r\n    type: 'application/ld+json',\r\n    dangerouslySetInnerHTML: {\r\n      __html: jsonString,\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Create AI-friendly context description\r\n *\r\n * AI가 맥락을 이해하기 쉽도록 풍부한 설명 생성\r\n *\r\n * @param config - GEO configuration\r\n * @returns AI-friendly context string\r\n *\r\n * @example\r\n * ```tsx\r\n * const context = createAIContext({\r\n *   name: 'hua',\r\n *   description: 'Privacy-first UX framework',\r\n *   features: ['i18n', 'Motion', 'Accessibility'],\r\n *   useCases: ['Multilingual apps', 'Accessible UX'],\r\n * });\r\n * // Returns: \"hua is a Privacy-first UX framework. Key features include: i18n, Motion, Accessibility. Common use cases: Multilingual apps, Accessible UX.\"\r\n * ```\r\n */\r\nexport function createAIContext(config: GEOConfig): string {\r\n  const parts: string[] = [];\r\n\r\n  // Basic description\r\n  parts.push(`${config.name} is a ${config.description}`);\r\n\r\n  // Features (filter empty values)\r\n  const featureContent = joinNonEmpty(config.features, ', ');\r\n  if (featureContent) {\r\n    parts.push(`Key features include: ${featureContent}`);\r\n  }\r\n\r\n  // Use cases (filter empty values)\r\n  const useCaseContent = joinNonEmpty(config.useCases, ', ');\r\n  if (useCaseContent) {\r\n    parts.push(`Common use cases: ${useCaseContent}`);\r\n  }\r\n\r\n  // Programming language\r\n  const languages = normalizeToArray(config.programmingLanguage);\r\n  const languageContent = joinNonEmpty(languages, ', ');\r\n  if (languageContent) {\r\n    parts.push(`Built with: ${languageContent}`);\r\n  }\r\n\r\n  // Technology stack\r\n  const techStack = normalizeToArray(config.technologyStack);\r\n  const techStackContent = joinNonEmpty(techStack, ', ');\r\n  if (techStackContent) {\r\n    parts.push(`Technology stack: ${techStackContent}`);\r\n  }\r\n\r\n  // Requirements (filter empty values)\r\n  const requirementsContent = joinNonEmpty(config.softwareRequirements, ', ');\r\n  if (requirementsContent) {\r\n    parts.push(`Requires: ${requirementsContent}`);\r\n  }\r\n\r\n  const result = parts.join('. ');\r\n  // 중복 마침표 방지 (이미 마침표로 끝나면 추가하지 않음)\r\n  // Prevent double periods (don't add if already ends with period)\r\n  return result.endsWith('.') ? result : result + '.';\r\n}\r\n","/**\r\n * @hua-labs/hua/framework - Metadata Utilities\r\n * \r\n * Next.js Metadata 생성 유틸리티 (Next.js 없이도 사용 가능)\r\n * \r\n * Next.js가 설치되어 있으면 Next.js Metadata 타입을 사용하고,\r\n * 없으면 일반 메타데이터 객체 타입을 사용합니다.\r\n * \r\n * Works with or without Next.js:\r\n * - With Next.js: Returns Next.js Metadata type\r\n * - Without Next.js: Returns generic metadata object type\r\n */\r\n\r\n// Next.js Metadata 타입 - 조건부 타입으로 타입 안전성 향상\r\n// Next.js Metadata type - Improved type safety with conditional type\r\ntype MetadataType = \r\n  // Next.js가 설치되어 있으면 실제 Metadata 타입 사용\r\n  // Use actual Metadata type if Next.js is installed\r\n  typeof import('next') extends { Metadata: infer T } ? T\r\n  // 없으면 일반 메타데이터 객체 타입 사용\r\n  // Use generic metadata object type if not installed\r\n  : {\r\n      title?: string;\r\n      description?: string;\r\n      keywords?: string[];\r\n      openGraph?: {\r\n        title?: string;\r\n        description?: string;\r\n        type?: 'website' | 'article' | 'product';\r\n        images?: Array<{ url: string }>;\r\n      };\r\n      twitter?: {\r\n        card?: 'summary' | 'summary_large_image';\r\n        title?: string;\r\n        description?: string;\r\n        images?: string[];\r\n      };\r\n    };\r\n\r\n/**\r\n * SEO 설정 타입\r\n */\r\nexport interface SEOConfig {\r\n  keywords?: string[];\r\n  ogImage?: string;\r\n  ogTitle?: string;\r\n  ogDescription?: string;\r\n  ogType?: 'website' | 'article' | 'product';\r\n}\r\n\r\n/**\r\n * 페이지 메타데이터 생성\r\n * \r\n * Next.js App Router의 `export const metadata`에서 사용할 수 있는 메타데이터를 생성합니다.\r\n * CRA/Vite 등 일반 React 앱에서도 사용 가능합니다 (React Helmet 등과 함께).\r\n * \r\n * Generates metadata that can be used in Next.js App Router's `export const metadata`.\r\n * Also works in plain React apps (CRA/Vite) with React Helmet, etc.\r\n * \r\n * @param options - 메타데이터 옵션\r\n * @param options.title - 페이지 제목\r\n * @param options.description - 페이지 설명\r\n * @param options.seo - SEO 설정 (선택적)\r\n * @returns Next.js Metadata 객체 (Next.js가 있으면) 또는 일반 메타데이터 객체 (없으면)\r\n * \r\n * @example\r\n * ```tsx\r\n * // Next.js App Router\r\n * // app/page.tsx\r\n * import { generatePageMetadata } from '@hua-labs/hua/framework';\r\n * \r\n * export const metadata = generatePageMetadata({\r\n *   title: '홈',\r\n *   description: '환영합니다',\r\n *   seo: {\r\n *     keywords: ['키워드1', '키워드2'],\r\n *     ogImage: '/og-image.png',\r\n *   },\r\n * });\r\n * \r\n * export default function HomePage() {\r\n *   return <div>...</div>;\r\n * }\r\n * ```\r\n * \r\n * @example\r\n * ```tsx\r\n * // CRA/Vite (React Helmet 사용)\r\n * import { Helmet } from 'react-helmet-async';\r\n * import { generatePageMetadata } from '@hua-labs/hua/framework';\r\n * \r\n * export default function HomePage() {\r\n *   const metadata = generatePageMetadata({\r\n *     title: 'Home',\r\n *     description: 'Welcome',\r\n *   });\r\n * \r\n *   return (\r\n *     <>\r\n *       <Helmet>\r\n *         <title>{metadata.title}</title>\r\n *         <meta name=\"description\" content={metadata.description} />\r\n *       </Helmet>\r\n *       <div>...</div>\r\n *     </>\r\n *   );\r\n * }\r\n * ```\r\n */\r\nexport function generatePageMetadata(options: {\r\n  title: string;\r\n  description?: string;\r\n  seo?: SEOConfig;\r\n}): MetadataType {\r\n  const { title, description, seo } = options;\r\n\r\n  // 메타데이터 객체 직접 구성 (타입 안전하게)\r\n  // Build metadata object directly (type-safe)\r\n  const metadata: Record<string, unknown> = {\r\n    title,\r\n    description,\r\n  };\r\n\r\n  // Keywords 추가\r\n  if (seo?.keywords && seo.keywords.length > 0) {\r\n    metadata.keywords = seo.keywords;\r\n  }\r\n\r\n  // Open Graph 메타데이터\r\n  if (seo?.ogImage || seo?.ogTitle || seo?.ogDescription || seo?.ogType) {\r\n    metadata.openGraph = {\r\n      title: seo.ogTitle || title,\r\n      description: seo.ogDescription || description,\r\n      type: seo.ogType || 'website',\r\n      ...(seo.ogImage && { images: [{ url: seo.ogImage }] }),\r\n    };\r\n  }\r\n\r\n  // Twitter Card 메타데이터 (Open Graph가 있으면 자동으로 사용)\r\n  if (seo?.ogImage) {\r\n    metadata.twitter = {\r\n      card: 'summary_large_image',\r\n      ...(seo.ogTitle && { title: seo.ogTitle }),\r\n      ...(seo.ogDescription && { description: seo.ogDescription }),\r\n      ...(seo.ogImage && { images: [seo.ogImage] }),\r\n    };\r\n  }\r\n\r\n  // MetadataType으로 타입 단언 (조건부 타입이 컴파일 타임에 올바르게 추론됨)\r\n  // Type assertion to MetadataType (conditional type is correctly inferred at compile time)\r\n  return metadata as MetadataType;\r\n}\r\n","/**\r\n * @hua-labs/hua/framework - CSS Variables Generator\r\n * \r\n * 브랜딩 설정을 CSS 변수로 자동 생성\r\n */\r\n\r\nimport type { HuaConfig } from '../types';\r\n\r\n/**\r\n * Generate CSS variables from branding configuration\r\n * \r\n * 브랜딩 설정을 CSS 변수 문자열로 변환합니다.\r\n * \r\n * @param branding - Branding configuration\r\n * @returns CSS variables string\r\n * \r\n * @example\r\n * ```ts\r\n * const css = generateCSSVariables({\r\n *   colors: { primary: '#3B82F6' },\r\n *   typography: { fontFamily: ['Inter', 'sans-serif'] },\r\n * });\r\n * // Returns: \":root {\\n  --color-primary: #3B82F6;\\n  --font-family: Inter, sans-serif;\\n}\"\r\n * ```\r\n */\r\nexport function generateCSSVariables(branding: NonNullable<HuaConfig['branding']>): string {\r\n  const vars: string[] = [];\r\n  \r\n  // 색상 변수\r\n  if (branding.colors) {\r\n    Object.entries(branding.colors).forEach(([key, value]) => {\r\n      if (value) {\r\n        vars.push(`  --color-${key}: ${value};`);\r\n      }\r\n    });\r\n  }\r\n  \r\n  // 타이포그래피 변수\r\n  if (branding.typography) {\r\n    if (branding.typography.fontFamily) {\r\n      vars.push(`  --font-family: ${branding.typography.fontFamily.join(', ')};`);\r\n    }\r\n    if (branding.typography.fontSize) {\r\n      Object.entries(branding.typography.fontSize).forEach(([key, value]) => {\r\n        if (value) {\r\n          vars.push(`  --font-size-${key}: ${value};`);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  // 커스텀 변수\r\n  if (branding.customVariables) {\r\n    Object.entries(branding.customVariables).forEach(([key, value]) => {\r\n      vars.push(`  --${key}: ${value};`);\r\n    });\r\n  }\r\n  \r\n  if (vars.length === 0) {\r\n    return '';\r\n  }\r\n  \r\n  return `:root {\\n${vars.join('\\n')}\\n}`;\r\n}\r\n\r\n/**\r\n * Generate CSS variables as object\r\n * \r\n * 브랜딩 설정을 CSS 변수 객체로 변환합니다.\r\n * \r\n * @param branding - Branding configuration\r\n * @returns CSS variables object\r\n */\r\nexport function generateCSSVariablesObject(\r\n  branding: NonNullable<HuaConfig['branding']>\r\n): Record<string, string> {\r\n  const vars: Record<string, string> = {};\r\n  \r\n  // 색상 변수\r\n  if (branding.colors) {\r\n    Object.entries(branding.colors).forEach(([key, value]) => {\r\n      if (value) {\r\n        vars[`--color-${key}`] = value;\r\n      }\r\n    });\r\n  }\r\n  \r\n  // 타이포그래피 변수\r\n  if (branding.typography) {\r\n    if (branding.typography.fontFamily) {\r\n      vars['--font-family'] = branding.typography.fontFamily.join(', ');\r\n    }\r\n    if (branding.typography.fontSize) {\r\n      Object.entries(branding.typography.fontSize).forEach(([key, value]) => {\r\n        if (value) {\r\n          vars[`--font-size-${key}`] = value;\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  // 커스텀 변수\r\n  if (branding.customVariables) {\r\n    Object.entries(branding.customVariables).forEach(([key, value]) => {\r\n      vars[`--${key}`] = value;\r\n    });\r\n  }\r\n  \r\n  return vars;\r\n}\r\n","/**\r\n * @hua-labs/hua/framework - Tailwind Config Generator\r\n * \r\n * 브랜딩 설정을 Tailwind Config로 자동 생성\r\n */\r\n\r\nimport type { HuaConfig } from '../types';\r\n\r\n/**\r\n * Generate Tailwind config from branding configuration\r\n * \r\n * 브랜딩 설정을 Tailwind Config 객체로 변환합니다.\r\n * \r\n * @param branding - Branding configuration\r\n * @returns Tailwind config object\r\n * \r\n * @example\r\n * ```ts\r\n * const tailwindConfig = generateTailwindConfig({\r\n *   colors: { primary: '#3B82F6' },\r\n *   typography: { fontFamily: ['Inter', 'sans-serif'] },\r\n * });\r\n * \r\n * // Use in tailwind.config.js:\r\n * module.exports = {\r\n *   ...tailwindConfig,\r\n *   // ... other config\r\n * };\r\n * ```\r\n */\r\nexport function generateTailwindConfig(\r\n  branding: NonNullable<HuaConfig['branding']>\r\n): {\r\n  theme: {\r\n    extend: {\r\n      colors?: Record<string, string>;\r\n      fontFamily?: Record<string, string[]>;\r\n      fontSize?: Record<string, string>;\r\n    };\r\n  };\r\n} {\r\n  const config: {\r\n    theme: {\r\n      extend: {\r\n        colors?: Record<string, string>;\r\n        fontFamily?: Record<string, string[]>;\r\n        fontSize?: Record<string, string>;\r\n      };\r\n    };\r\n  } = {\r\n    theme: {\r\n      extend: {},\r\n    },\r\n  };\r\n  \r\n  // 색상 설정\r\n  if (branding.colors) {\r\n    const colors: Record<string, string> = {};\r\n    Object.entries(branding.colors).forEach(([key, value]) => {\r\n      if (value) {\r\n        colors[key] = value;\r\n      }\r\n    });\r\n    if (Object.keys(colors).length > 0) {\r\n      config.theme.extend.colors = colors;\r\n    }\r\n  }\r\n  \r\n  // 타이포그래피 설정\r\n  if (branding.typography) {\r\n    if (branding.typography.fontFamily) {\r\n      config.theme.extend.fontFamily = {\r\n        sans: branding.typography.fontFamily,\r\n      };\r\n    }\r\n    if (branding.typography.fontSize) {\r\n      const fontSize: Record<string, string> = {};\r\n      Object.entries(branding.typography.fontSize).forEach(([key, value]) => {\r\n        if (value) {\r\n          fontSize[key] = value;\r\n        }\r\n      });\r\n      if (Object.keys(fontSize).length > 0) {\r\n        config.theme.extend.fontSize = fontSize;\r\n      }\r\n    }\r\n  }\r\n  \r\n  return config;\r\n}\r\n","/**\r\n * @hua-labs/hua/framework - i18n Middleware\r\n * \r\n * i18n middleware for automatic language detection and routing\r\n * \r\n * **타입 안전성**: Next.js를 peerDependency로 사용하므로,\r\n * Next.js 프로젝트에서는 자동으로 타입이 추론됩니다.\r\n * \r\n * **Type Safety**: Next.js is used as a peerDependency,\r\n * so types are automatically inferred in Next.js projects.\r\n */\r\n\r\n// Next.js types - 조건부 import로 타입 안전성 향상\r\n// Next.js types - Improved type safety with conditional import\r\n\r\n/**\r\n * Base interface for NextRequest (when Next.js is not available)\r\n */\r\ninterface BaseNextRequest {\r\n  headers: {\r\n    get(name: string): string | null;\r\n  };\r\n  cookies: {\r\n    get(name: string): { value: string } | undefined;\r\n  };\r\n  nextUrl: {\r\n    pathname: string;\r\n    searchParams: URLSearchParams;\r\n  };\r\n}\r\n\r\n/**\r\n * NextRequest type - Next.js가 있으면 실제 타입, 없으면 기본 인터페이스\r\n * \r\n * Next.js가 optional peerDependency이므로, 타입 레벨에서만 처리합니다.\r\n * 실제 Next.js 프로젝트에서는 Next.js의 NextRequest 타입이 자동으로 사용됩니다.\r\n */\r\ntype NextRequest = BaseNextRequest;\r\n\r\n/**\r\n * Base interface for NextResponse (when Next.js is not available)\r\n */\r\ninterface BaseNextResponse {\r\n  headers: Headers;\r\n  next?(): BaseNextResponse;\r\n  redirect?(url: string): BaseNextResponse;\r\n}\r\n\r\n/**\r\n * NextResponse factory function\r\n * Next.js가 설치되어 있으면 실제 NextResponse를 사용하고, 없으면 폴백 구현을 사용합니다.\r\n */\r\nlet NextResponseFactory: {\r\n  next(): BaseNextResponse;\r\n  redirect(url: string): BaseNextResponse;\r\n};\r\n\r\ntry {\r\n  // Next.js가 설치되어 있으면 실제 NextResponse 사용\r\n  const nextServer = require('next/server');\r\n  NextResponseFactory = nextServer.NextResponse;\r\n} catch {\r\n  // Next.js가 없으면 폴백 구현\r\n  // Fallback implementation if Next.js is not available\r\n  NextResponseFactory = {\r\n    next: () => ({\r\n      headers: new Headers(),\r\n    } as BaseNextResponse),\r\n    redirect: (url: string) => ({\r\n      headers: new Headers(),\r\n    } as BaseNextResponse),\r\n  };\r\n}\r\n\r\n/**\r\n * i18n middleware configuration\r\n */\r\nexport interface I18nMiddlewareConfig {\r\n  /**\r\n   * Default language\r\n   */\r\n  defaultLanguage: string;\r\n  \r\n  /**\r\n   * Supported languages\r\n   */\r\n  supportedLanguages: string[];\r\n  \r\n  /**\r\n   * Language detection strategy\r\n   */\r\n  detectionStrategy?: 'header' | 'cookie' | 'path' | 'query';\r\n}\r\n\r\n/**\r\n * Create i18n middleware for Next.js\r\n * \r\n * **⚠️ Edge Runtime Note**: This middleware runs on Edge Runtime.\r\n * Make sure your middleware.ts file exports the runtime config:\r\n * \r\n * ```ts\r\n * export const runtime = 'edge';\r\n * ```\r\n * \r\n * @example\r\n * ```ts\r\n * // middleware.ts\r\n * import { createI18nMiddleware } from '@hua-labs/hua/framework';\r\n * \r\n * // Edge Runtime 명시 (Vercel 자동 감지 방지)\r\n * export const runtime = 'edge';\r\n * \r\n * export default createI18nMiddleware({\r\n *   defaultLanguage: 'ko',\r\n *   supportedLanguages: ['ko', 'en'],\r\n * });\r\n * ```\r\n * \r\n * **Alternative**: If you don't want to use Edge Runtime, you can handle\r\n * language detection in your API routes or client components instead.\r\n */\r\nexport function createI18nMiddleware(config: I18nMiddlewareConfig) {\r\n  return function i18nMiddleware(request: NextRequest) {\r\n    const { defaultLanguage, supportedLanguages, detectionStrategy = 'header' } = config;\r\n    \r\n    // Get language from various sources\r\n    let language = defaultLanguage;\r\n    \r\n    if (detectionStrategy === 'header') {\r\n      const acceptLanguage = request.headers.get('accept-language');\r\n      if (acceptLanguage) {\r\n        // Simple language detection from Accept-Language header\r\n        const preferredLang = acceptLanguage.split(',')[0].split('-')[0].toLowerCase();\r\n        if (supportedLanguages.includes(preferredLang)) {\r\n          language = preferredLang;\r\n        }\r\n      }\r\n    } else if (detectionStrategy === 'cookie') {\r\n      const cookieLang = request.cookies.get('language')?.value;\r\n      if (cookieLang && supportedLanguages.includes(cookieLang)) {\r\n        language = cookieLang;\r\n      }\r\n    } else if (detectionStrategy === 'path') {\r\n      const pathLang = request.nextUrl.pathname.split('/')[1];\r\n      if (pathLang && supportedLanguages.includes(pathLang)) {\r\n        language = pathLang;\r\n      }\r\n    } else if (detectionStrategy === 'query') {\r\n      const queryLang = request.nextUrl.searchParams.get('lang');\r\n      if (queryLang && supportedLanguages.includes(queryLang)) {\r\n        language = queryLang;\r\n      }\r\n    }\r\n    \r\n    // Add language to request headers for use in components\r\n    const response = NextResponseFactory.next();\r\n    response.headers.set('x-language', language);\r\n    \r\n    return response;\r\n  };\r\n}\r\n","/**\r\n * @hua-labs/hua/framework - SSR Translations Utils\r\n * \r\n * 서버 사이드에서 번역 파일을 로드하는 유틸리티 함수\r\n * Next.js App Router의 서버 컴포넌트에서만 사용 가능합니다.\r\n * \r\n * @example\r\n * ```tsx\r\n * // app/layout.tsx\r\n * import { getSSRTranslations } from '@hua-labs/hua/framework/server';\r\n * import huaConfig from '../hua.config';\r\n * \r\n * export default async function RootLayout({ children }) {\r\n *   const initialTranslations = await getSSRTranslations(huaUxConfig);\r\n *   \r\n *   return (\r\n *     <html>\r\n *       <body>\r\n *         <HuaProvider config={{ i18n: { initialTranslations } }}>\r\n *           {children}\r\n *         </HuaProvider>\r\n *       </body>\r\n *     </html>\r\n *   );\r\n * }\r\n * ```\r\n */\r\n\r\n// 서버 전용 모듈임을 명시 (클라이언트 번들에서 제외)\r\nimport 'server-only';\r\n\r\nimport fs from 'fs';\r\nimport path from 'path';\r\nimport type { HuaConfig } from '../types';\r\n\r\n/**\r\n * SSR 번역 데이터 로드\r\n * \r\n * 서버 사이드에서 모든 지원 언어와 네임스페이스의 번역 파일을 로드합니다.\r\n * \r\n * @param config - HuaConfig 객체 (i18n 설정 포함)\r\n * @param translationsDir - 번역 파일 디렉토리 경로 (기본값: 'translations')\r\n * @returns 초기 번역 데이터 객체\r\n */\r\nexport async function getSSRTranslations(\r\n  config: HuaConfig,\r\n  translationsDir: string = 'translations'\r\n): Promise<Record<string, Record<string, Record<string, string>>>> {\r\n  if (!config.i18n) {\r\n    return {};\r\n  }\r\n\r\n  const namespaces = config.i18n.namespaces || ['common'];\r\n  const languages = config.i18n.supportedLanguages || ['ko'];\r\n  \r\n  // HuaConfig의 supportedLanguages는 string[]이므로 그대로 사용\r\n  const languageCodes: string[] = languages;\r\n\r\n  const initialTranslations: Record<\r\n    string,\r\n    Record<string, Record<string, string>>\r\n  > = {};\r\n\r\n  // 번역 파일 디렉토리 경로 (프로젝트 루트 기준)\r\n  const translationsPath = path.join(process.cwd(), translationsDir);\r\n\r\n  // 각 언어와 네임스페이스에 대해 번역 데이터 로드\r\n  for (const lang of languageCodes) {\r\n    initialTranslations[lang] = {};\r\n    \r\n    for (const namespace of namespaces) {\r\n      try {\r\n        const filePath = path.join(translationsPath, lang, `${namespace}.json`);\r\n        \r\n        if (!fs.existsSync(filePath)) {\r\n          // fallback 언어 시도\r\n          const fallbackPath = path.join(translationsPath, 'ko', `${namespace}.json`);\r\n          if (fs.existsSync(fallbackPath)) {\r\n            const data = JSON.parse(fs.readFileSync(fallbackPath, 'utf-8'));\r\n            initialTranslations[lang][namespace] = data as Record<string, string>;\r\n            continue;\r\n          }\r\n          \r\n          // 파일이 없으면 빈 객체\r\n          initialTranslations[lang][namespace] = {};\r\n          continue;\r\n        }\r\n\r\n        const data = JSON.parse(fs.readFileSync(filePath, 'utf-8'));\r\n        initialTranslations[lang][namespace] = data as Record<string, string>;\r\n      } catch (error) {\r\n        // 에러 발생 시 빈 객체 (개발 환경에서만 경고)\r\n        if (process.env.NODE_ENV === 'development') {\r\n          console.warn(\r\n            `[hua] Failed to load SSR translation for ${lang}/${namespace}:`,\r\n            error\r\n          );\r\n        }\r\n        initialTranslations[lang][namespace] = {};\r\n      }\r\n    }\r\n  }\r\n\r\n  return initialTranslations;\r\n}\r\n","/**\r\n * @hua-labs/hua/framework - Config Schema\r\n * \r\n * Configuration schema and validation\r\n */\r\n\r\nimport type { HuaConfig, Preset } from '../types';\r\n\r\n/**\r\n * Default configuration\r\n * \r\n * Preset을 사용하지 않을 때의 기본값입니다.\r\n * Preset을 사용하면 이 값은 무시되고 Preset 값이 사용됩니다.\r\n */\r\nexport const defaultConfig: Required<Omit<HuaConfig, 'branding' | 'plugins' | 'license'>> & {\r\n  branding?: HuaConfig['branding'];\r\n  plugins?: HuaConfig['plugins'];\r\n  license?: HuaConfig['license'];\r\n} = {\r\n  preset: 'product',  // 기본 Preset\r\n  i18n: {\r\n    defaultLanguage: 'ko',\r\n    supportedLanguages: ['ko', 'en'],\r\n    fallbackLanguage: 'en',\r\n    namespaces: ['common'],\r\n    translationLoader: 'api',\r\n    translationApiPath: '/api/translations',\r\n  },\r\n  icons: {\r\n    set: 'phosphor',\r\n    weight: 'regular',\r\n    size: 20,\r\n    color: 'currentColor',\r\n  },\r\n  motion: {\r\n    defaultPreset: 'product',\r\n    enableAnimations: true,\r\n  },\r\n  state: {\r\n    persist: true,\r\n    ssr: true,\r\n  },\r\n  fileStructure: {\r\n    enforce: false,\r\n  },\r\n  toast: {\r\n    position: 'top-right',\r\n    maxToasts: 5,\r\n  },\r\n  plugins: [],\r\n  license: undefined,\r\n};\r\n\r\n/**\r\n * Validate configuration\r\n * \r\n * 설정의 유효성을 검증하고 친절한 에러 메시지를 제공합니다.\r\n * Validates configuration and provides friendly error messages.\r\n */\r\nexport function validateConfig(config: Partial<HuaConfig>): HuaConfig {\r\n  // Preset 검증\r\n  if (config.preset) {\r\n    if (typeof config.preset === 'string') {\r\n      // 바이브 모드: 문자열 Preset\r\n      if (!['product', 'marketing'].includes(config.preset)) {\r\n        throw new Error(\r\n          `[hua] ❌ 잘못된 Preset입니다: \"${config.preset}\"\\n` +\r\n          `[hua] ❌ Invalid preset: \"${config.preset}\"\\n\\n` +\r\n          `사용 가능한 Preset: 'product', 'marketing'\\n` +\r\n          `Available presets: 'product', 'marketing'\\n\\n` +\r\n          `💡 해결 방법 / Solution:\\n` +\r\n          `   - 'product' 또는 'marketing' 중 하나를 선택하세요.\\n` +\r\n          `   - Select either 'product' or 'marketing'.\\n\\n` +\r\n          `📖 가이드 / Guide: https://github.com/HUA-Labs/hua-platform/tree/main/packages/hua/docs`\r\n        );\r\n      }\r\n    } else {\r\n      // 개발자 모드: 객체 Preset\r\n      if (!['product', 'marketing'].includes(config.preset.type)) {\r\n        throw new Error(\r\n          `[hua] ❌ 잘못된 Preset 타입입니다: \"${config.preset.type}\"\\n` +\r\n          `[hua] ❌ Invalid preset type: \"${config.preset.type}\"\\n\\n` +\r\n          `사용 가능한 Preset 타입: 'product', 'marketing'\\n` +\r\n          `Available preset types: 'product', 'marketing'\\n\\n` +\r\n          `💡 해결 방법 / Solution:\\n` +\r\n          `   - preset.type을 'product' 또는 'marketing'으로 설정하세요.\\n` +\r\n          `   - Set preset.type to either 'product' or 'marketing'.\\n\\n` +\r\n          `📖 가이드 / Guide: https://github.com/HUA-Labs/hua-platform/tree/main/packages/hua/docs`\r\n        );\r\n      }\r\n    }\r\n  }\r\n  \r\n  // motion.style을 defaultPreset으로 매핑 (바이브 코더용)\r\n  if (config.motion?.style && !config.motion.defaultPreset) {\r\n    const styleToPreset: Record<string, 'product' | 'marketing'> = {\r\n      smooth: 'product',\r\n      minimal: 'product',\r\n      dramatic: 'marketing',\r\n    };\r\n    \r\n    config.motion.defaultPreset = styleToPreset[config.motion.style];\r\n  }\r\n\r\n  // 기본값과 병합\r\n  const validated: HuaConfig = {\r\n    preset: config.preset || defaultConfig.preset,\r\n    i18n: {\r\n      ...defaultConfig.i18n,\r\n      ...config.i18n,\r\n    },\r\n    motion: {\r\n      ...defaultConfig.motion,\r\n      ...config.motion,\r\n    },\r\n    state: {\r\n      ...defaultConfig.state,\r\n      ...config.state,\r\n    },\r\n    fileStructure: {\r\n      ...defaultConfig.fileStructure,\r\n      ...config.fileStructure,\r\n    },\r\n  };\r\n\r\n  // Validate i18n\r\n  if (validated.i18n) {\r\n    if (!validated.i18n.supportedLanguages.includes(validated.i18n.defaultLanguage)) {\r\n      throw new Error(\r\n        `[hua] ❌ i18n 설정 오류 / i18n configuration error\\n\\n` +\r\n        `기본 언어 \"${validated.i18n.defaultLanguage}\"가 지원 언어 목록에 없습니다.\\n` +\r\n        `Default language \"${validated.i18n.defaultLanguage}\" is not in supportedLanguages.\\n\\n` +\r\n        `현재 지원 언어 / Current supported languages: ${validated.i18n.supportedLanguages.join(', ')}\\n\\n` +\r\n        `💡 해결 방법 / Solution:\\n` +\r\n        `   1. supportedLanguages에 \"${validated.i18n.defaultLanguage}\"를 추가하세요.\\n` +\r\n        `      Add \"${validated.i18n.defaultLanguage}\" to supportedLanguages.\\n` +\r\n        `   2. 또는 defaultLanguage를 지원 언어 중 하나로 변경하세요.\\n` +\r\n        `      Or change defaultLanguage to one of the supported languages.\\n\\n` +\r\n        `📝 예시 / Example:\\n` +\r\n        `   i18n: {\\n` +\r\n        `     defaultLanguage: 'ko',\\n` +\r\n        `     supportedLanguages: ['ko', 'en', 'ja'],  // 'ko' 포함 필수\\n` +\r\n        `   }\\n\\n` +\r\n        `📖 가이드 / Guide: https://github.com/HUA-Labs/hua-platform/tree/main/packages/hua/docs`\r\n      );\r\n    }\r\n  }\r\n\r\n  return validated;\r\n}\r\n","/**\r\n * Product Preset\r\n * \r\n * 기본 여백 + 기본 모션 설정\r\n * 제품 페이지, 대시보드 등 일반적인 제품 UI에 적합\r\n */\r\n\r\nimport type { MotionPreset, PresetConfig } from '@hua-labs/motion-core'\r\n\r\n/**\r\n * Product Preset Configuration\r\n * \r\n * - 보수적인 모션 (빠른 전환, 최소한의 딜레이)\r\n * - 일관된 스페이싱 (md 기본값)\r\n * - 호버/클릭 인터랙션 최소화\r\n */\r\nexport const productPreset = {\r\n  /**\r\n   * Motion Presets for Product UI\r\n   */\r\n  motion: {\r\n    hero: {\r\n      entrance: 'fadeIn',\r\n      delay: 100,\r\n      duration: 400,\r\n      hover: false,\r\n      click: false\r\n    } as MotionPreset,\r\n    title: {\r\n      entrance: 'slideUp',\r\n      delay: 150,\r\n      duration: 350,\r\n      hover: false,\r\n      click: false\r\n    } as MotionPreset,\r\n    button: {\r\n      entrance: 'scaleIn',\r\n      delay: 200,\r\n      duration: 200,\r\n      hover: true,\r\n      click: true\r\n    } as MotionPreset,\r\n    card: {\r\n      entrance: 'slideUp',\r\n      delay: 100,\r\n      duration: 300,\r\n      hover: true,\r\n      click: false\r\n    } as MotionPreset,\r\n    text: {\r\n      entrance: 'fadeIn',\r\n      delay: 50,\r\n      duration: 300,\r\n      hover: false,\r\n      click: false\r\n    } as MotionPreset\r\n  } as PresetConfig,\r\n\r\n  /**\r\n   * Spacing Guidelines\r\n   * \r\n   * - 기본 스페이싱: md (8px)\r\n   * - 섹션 간격: lg (16px)\r\n   * - 컴포넌트 내부: sm (4px)\r\n   */\r\n  spacing: {\r\n    default: 'md',\r\n    section: 'lg',\r\n    component: 'sm'\r\n  },\r\n\r\n  /**\r\n   * i18n Configuration\r\n   */\r\n  i18n: {\r\n    defaultLanguage: 'ko',\r\n    supportedLanguages: ['ko', 'en']\r\n  },\r\n\r\n  /**\r\n   * Icon Configuration\r\n   *\r\n   * - Phosphor Icons (기본값)\r\n   * - Regular weight (깔끔한 스타일)\r\n   * - 20px 기본 크기\r\n   */\r\n  icons: {\r\n    set: 'phosphor' as const,\r\n    weight: 'regular' as const,\r\n    size: 20,\r\n    color: 'currentColor'\r\n  }\r\n} as const\r\n\r\nexport type ProductPreset = typeof productPreset\r\n","/**\r\n * Marketing Preset\r\n * \r\n * 랜딩 페이지 모션 중심 설정\r\n * 마케팅 페이지, 랜딩 페이지에 적합\r\n */\r\n\r\nimport type { MotionPreset, PresetConfig } from '@hua-labs/motion-core'\r\n\r\n/**\r\n * Marketing Preset Configuration\r\n * \r\n * - 드라마틱한 모션 (느린 전환, 긴 딜레이)\r\n * - 넓은 스페이싱 (xl 기본값)\r\n * - 호버/클릭 인터랙션 강조\r\n */\r\nexport const marketingPreset = {\r\n  /**\r\n   * Motion Presets for Marketing UI\r\n   */\r\n  motion: {\r\n    hero: {\r\n      entrance: 'fadeIn',\r\n      delay: 300,\r\n      duration: 1000,\r\n      hover: false,\r\n      click: false\r\n    } as MotionPreset,\r\n    title: {\r\n      entrance: 'slideUp',\r\n      delay: 500,\r\n      duration: 800,\r\n      hover: false,\r\n      click: false\r\n    } as MotionPreset,\r\n    button: {\r\n      entrance: 'scaleIn',\r\n      delay: 700,\r\n      duration: 400,\r\n      hover: true,\r\n      click: true\r\n    } as MotionPreset,\r\n    card: {\r\n      entrance: 'slideUp',\r\n      delay: 600,\r\n      duration: 600,\r\n      hover: true,\r\n      click: false\r\n    } as MotionPreset,\r\n    text: {\r\n      entrance: 'fadeIn',\r\n      delay: 400,\r\n      duration: 700,\r\n      hover: false,\r\n      click: false\r\n    } as MotionPreset,\r\n    image: {\r\n      entrance: 'scaleIn',\r\n      delay: 500,\r\n      duration: 800,\r\n      hover: true,\r\n      click: false\r\n    } as MotionPreset\r\n  } as PresetConfig,\r\n\r\n  /**\r\n   * Spacing Guidelines\r\n   * \r\n   * - 기본 스페이싱: xl (24px)\r\n   * - 섹션 간격: xl (32px+)\r\n   * - 컴포넌트 내부: md (8px)\r\n   */\r\n  spacing: {\r\n    default: 'xl',\r\n    section: 'xl',\r\n    component: 'md'\r\n  },\r\n\r\n  /**\r\n   * i18n Configuration\r\n   */\r\n  i18n: {\r\n    defaultLanguage: 'ko',\r\n    supportedLanguages: ['ko', 'en']\r\n  },\r\n\r\n  /**\r\n   * Icon Configuration\r\n   *\r\n   * - Phosphor Icons (기본값)\r\n   * - Bold weight (임팩트 있는 스타일)\r\n   * - 24px 기본 크기 (마케팅용으로 크게)\r\n   */\r\n  icons: {\r\n    set: 'phosphor' as const,\r\n    weight: 'bold' as const,\r\n    size: 24,\r\n    color: 'currentColor'\r\n  }\r\n} as const\r\n\r\nexport type MarketingPreset = typeof marketingPreset\r\n","/**\r\n * @hua-labs/hua/framework - Config Merge\r\n * \r\n * Preset 병합 및 깊은 병합 로직\r\n */\r\n\r\nimport type { HuaConfig, Preset, PresetName, PresetConfig } from '../types';\r\nimport { productPreset } from '../../presets/product';\r\nimport { marketingPreset } from '../../presets/marketing';\r\n\r\n/**\r\n * Preset 맵\r\n */\r\nconst PRESET_MAP: Record<PresetName, any> = {\r\n  product: productPreset,\r\n  marketing: marketingPreset,\r\n};\r\n\r\n/**\r\n * 깊은 병합 (Deep Merge)\r\n * \r\n * 중첩된 객체를 재귀적으로 병합합니다.\r\n * 사용자 설정이 Preset 설정보다 우선합니다.\r\n */\r\nfunction deepMerge<T extends Record<string, any>>(\r\n  target: T,\r\n  source: Partial<T>\r\n): T {\r\n  const result = { ...target };\r\n\r\n  for (const key in source) {\r\n    if (source[key] === undefined) {\r\n      // undefined는 병합에서 제외 (사용자가 명시적으로 끄려는 경우)\r\n      continue;\r\n    }\r\n\r\n    if (\r\n      source[key] &&\r\n      typeof source[key] === 'object' &&\r\n      !Array.isArray(source[key]) &&\r\n      target[key] &&\r\n      typeof target[key] === 'object' &&\r\n      !Array.isArray(target[key])\r\n    ) {\r\n      // 중첩 객체는 재귀적으로 병합\r\n      result[key] = deepMerge(target[key], source[key] as Partial<T[Extract<keyof T, string>]>);\r\n    } else {\r\n      // 배열이나 원시값은 그대로 덮어쓰기\r\n      result[key] = source[key] as T[Extract<keyof T, string>];\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * Preset에서 Config로 변환\r\n * \r\n * Preset의 구조를 HuaConfig 형식으로 변환합니다.\r\n */\r\nfunction presetToConfig(preset: typeof productPreset | typeof marketingPreset): Partial<HuaConfig> {\r\n  return {\r\n    motion: {\r\n      defaultPreset: preset === productPreset ? 'product' : 'marketing',\r\n      enableAnimations: true,\r\n    },\r\n    i18n: {\r\n      defaultLanguage: preset.i18n.defaultLanguage,\r\n      supportedLanguages: [...preset.i18n.supportedLanguages],\r\n    },\r\n    // Preset의 spacing은 나중에 컴포넌트에서 사용\r\n    // Config에는 직접 포함하지 않음 (컴포넌트가 PresetContext에서 가져옴)\r\n  };\r\n}\r\n\r\n/**\r\n * Preset과 사용자 설정 병합\r\n * \r\n * 1. Preset 기본값 로드\r\n * 2. Preset 설정 오버라이드 (개발자 모드인 경우)\r\n * 3. 사용자 설정으로 병합 (사용자 설정 우선)\r\n * 4. 최종 검증\r\n * \r\n * @param preset - 사용할 Preset (문자열 또는 객체)\r\n * @param userConfig - 사용자 설정 (선택적)\r\n * @returns 병합된 설정\r\n */\r\nexport function mergePresetWithConfig(\r\n  preset: Preset,\r\n  userConfig?: Partial<HuaConfig>\r\n): HuaConfig {\r\n  // 1. Preset 타입 추출\r\n  let presetName: PresetName;\r\n  let presetOverrides: Partial<HuaConfig> = {};\r\n  \r\n  if (typeof preset === 'string') {\r\n    // 바이브 모드: 문자열 Preset\r\n    presetName = preset;\r\n  } else {\r\n    // 개발자 모드: 객체 Preset\r\n    presetName = preset.type;\r\n    \r\n    // Preset 설정 오버라이드\r\n    if (preset.motion) {\r\n      presetOverrides.motion = {\r\n        ...presetOverrides.motion,\r\n        duration: preset.motion.duration,\r\n        easing: preset.motion.easing,\r\n      };\r\n    }\r\n    \r\n    // spacing은 나중에 컴포넌트 레벨에서 처리\r\n    // (Config에는 직접 포함하지 않음)\r\n  }\r\n\r\n  // 2. Preset 로드\r\n  const presetData = PRESET_MAP[presetName];\r\n  if (!presetData) {\r\n    throw new Error(\r\n      `Unknown preset: \"${presetName}\". Available presets: ${Object.keys(PRESET_MAP).join(', ')}`\r\n    );\r\n  }\r\n\r\n  // 3. Preset을 Config 형식으로 변환\r\n  const presetConfig = presetToConfig(presetData);\r\n  \r\n  // preset 속성 추가 (원본 preset 정보 보존)\r\n  presetConfig.preset = presetName;\r\n\r\n  // 4. Preset 오버라이드와 병합\r\n  const presetWithOverrides = deepMerge(presetConfig, presetOverrides);\r\n\r\n  // 5. 사용자 설정과 병합 (사용자 설정 우선)\r\n  const merged = userConfig\r\n    ? deepMerge(presetWithOverrides, userConfig)\r\n    : presetWithOverrides;\r\n\r\n  // 4. 최종 Config 형식으로 변환 (필수 필드 보장)\r\n  return {\r\n    ...presetConfig,\r\n    ...merged,\r\n    // i18n은 항상 있어야 함 (Preset에서 제공)\r\n    i18n: merged.i18n || presetConfig.i18n,\r\n    // motion은 항상 있어야 함\r\n    motion: merged.motion || presetConfig.motion,\r\n    // state는 기본값 사용\r\n    state: merged.state || {\r\n      persist: true,\r\n      ssr: true,\r\n    },\r\n    // fileStructure는 기본값 사용\r\n    fileStructure: merged.fileStructure || {\r\n      enforce: false,\r\n    },\r\n  } as HuaConfig;\r\n}\r\n\r\n/**\r\n * Preset 없이 사용자 설정만으로 Config 생성\r\n * \r\n * Preset을 사용하지 않고 모든 설정을 직접 지정하는 경우\r\n */\r\nexport function createConfigFromUserConfig(\r\n  userConfig: Partial<HuaConfig>\r\n): HuaConfig {\r\n  // 기본값과 사용자 설정 병합\r\n  const defaultConfig: Partial<HuaConfig> = {\r\n    i18n: {\r\n      defaultLanguage: 'ko',\r\n      supportedLanguages: ['ko', 'en'],\r\n      fallbackLanguage: 'en',\r\n      namespaces: ['common'],\r\n      translationLoader: 'api',\r\n      translationApiPath: '/api/translations',\r\n    },\r\n    motion: {\r\n      defaultPreset: 'product',\r\n      enableAnimations: true,\r\n    },\r\n    state: {\r\n      persist: true,\r\n      ssr: true,\r\n    },\r\n    fileStructure: {\r\n      enforce: false,\r\n    },\r\n  };\r\n\r\n  return deepMerge(defaultConfig, userConfig) as HuaConfig;\r\n}\r\n","/**\r\n * @hua-labs/hua/framework - Config System (Client-safe)\r\n *\r\n * Client-safe configuration functions.\r\n * fs 모듈을 사용하지 않아 브라우저에서 안전하게 사용 가능합니다.\r\n */\r\n\r\nimport type { HuaConfig, Preset } from '../types';\r\nimport { validateConfig } from './schema';\r\nimport { mergePresetWithConfig, createConfigFromUserConfig } from './merge';\r\nimport { initLicense } from '../license';\r\nimport { pluginRegistry } from '../plugins';\r\n\r\n/**\r\n * Global config cache\r\n */\r\nlet cachedConfig: HuaConfig | null = null;\r\n\r\n/**\r\n * 프레임워크 설정 정의 / Define framework configuration\r\n *\r\n * IntelliSense를 완벽히 지원하는 설정 함수입니다.\r\n * Provides full IntelliSense support for configuration options.\r\n *\r\n * 모든 옵션은 선택사항이며 기본값 또는 Preset과 병합됩니다.\r\n * All options are optional and will be merged with defaults or Preset.\r\n *\r\n * **Zero-Config**: 설정 파일이 없어도 기본값으로 동작합니다.\r\n * **Zero-Config**: Works with defaults even without a config file.\r\n *\r\n * **Preset 우선**: `preset: 'product'`만 지정해도 대부분의 설정이 자동 적용됩니다.\r\n * **Preset First**: Just specify `preset: 'product'` and most settings are auto-applied.\r\n *\r\n * **바이브 코딩 친화적**: AI가 이해하기 쉬운 한글 주석과 명사 중심 설정\r\n * **Vibe Coding Friendly**: Korean comments and noun-centered settings for AI understanding\r\n *\r\n * @param config - 설정 객체 / Configuration object\r\n * @returns 검증된 설정 객체 / Validated configuration object\r\n *\r\n * @example\r\n * ```ts\r\n * // 최소 설정 (Preset만) - 바이브 코더용\r\n * // hua.config.ts\r\n * import { defineConfig } from '@hua-labs/hua/framework';\r\n *\r\n * export default defineConfig({\r\n *   preset: 'product',  // 끝! 나머지는 자동 설정\r\n * });\r\n * ```\r\n */\r\nexport function defineConfig(config: Partial<HuaConfig>): HuaConfig {\r\n  // 라이선스 초기화\r\n  if (config.license) {\r\n    initLicense(config.license);\r\n  }\r\n\r\n  // 플러그인 등록 및 초기화\r\n  if (config.plugins && config.plugins.length > 0) {\r\n    config.plugins.forEach(plugin => {\r\n      pluginRegistry.register(plugin);\r\n    });\r\n  }\r\n\r\n  // Preset이 지정된 경우 Preset과 병합\r\n  if (config.preset) {\r\n    const { preset, ...userConfig } = config;\r\n    const merged = mergePresetWithConfig(preset, userConfig);\r\n    const validated = validateConfig(merged);\r\n\r\n    // 플러그인 초기화 (설정이 완료된 후)\r\n    if (config.plugins && config.plugins.length > 0) {\r\n      pluginRegistry.initializeAll(validated).catch((error: Error) => {\r\n        console.error('[hua] Plugin initialization error:', error);\r\n      });\r\n    }\r\n\r\n    return validated;\r\n  }\r\n\r\n  // Preset이 없는 경우 사용자 설정만 사용\r\n  const merged = createConfigFromUserConfig(config);\r\n  const validated = validateConfig(merged);\r\n\r\n  // 플러그인 초기화 (설정이 완료된 후)\r\n  if (config.plugins && config.plugins.length > 0) {\r\n    pluginRegistry.initializeAll(validated).catch((error: Error) => {\r\n      console.error('[hua] Plugin initialization error:', error);\r\n    });\r\n  }\r\n\r\n  return validated;\r\n}\r\n\r\n/**\r\n * Get current configuration\r\n *\r\n * 캐시된 설정을 반환하거나, 없으면 기본값을 반환합니다.\r\n *\r\n * **클라이언트 안전**: 어디서든 안전하게 호출 가능합니다.\r\n * **Client Safe**: Safe to call anywhere.\r\n */\r\nexport function getConfig(): HuaConfig {\r\n  // 캐시된 설정이 있으면 반환\r\n  if (cachedConfig) {\r\n    return cachedConfig;\r\n  }\r\n\r\n  // 기본값 반환 (product preset)\r\n  cachedConfig = mergePresetWithConfig('product', {});\r\n  return cachedConfig;\r\n}\r\n\r\n/**\r\n * Set configuration (for testing or manual override)\r\n *\r\n * 테스트나 수동 오버라이드를 위한 설정 설정 함수\r\n */\r\nexport function setConfig(config: HuaConfig): void {\r\n  cachedConfig = validateConfig(config);\r\n}\r\n\r\n/**\r\n * Reset configuration cache\r\n *\r\n * 설정 캐시를 초기화합니다. (주로 테스트용)\r\n */\r\nexport function resetConfig(): void {\r\n  cachedConfig = null;\r\n}\r\n\r\n/**\r\n * Internal: Get cached config reference (for server module)\r\n */\r\nexport function _getCachedConfig(): HuaConfig | null {\r\n  return cachedConfig;\r\n}\r\n\r\n/**\r\n * Internal: Set cached config reference (for server module)\r\n */\r\nexport function _setCachedConfig(config: HuaConfig | null): void {\r\n  cachedConfig = config;\r\n}\r\n","/**\r\n * @hua-labs/hua/framework - Config System (Server-only)\r\n *\r\n * Server-only configuration loading.\r\n * fs 모듈을 사용하므로 서버 환경에서만 사용 가능합니다.\r\n *\r\n * ⚠️ 이 파일은 절대 클라이언트 번들에 포함되면 안 됩니다.\r\n * 반드시 서버 컴포넌트나 API 라우트에서만 import 하세요.\r\n */\r\n\r\nimport type { HuaConfig } from '../types';\r\nimport { validateConfig } from './schema';\r\nimport { mergePresetWithConfig, createConfigFromUserConfig } from './merge';\r\nimport { _getCachedConfig, _setCachedConfig } from './client';\r\n\r\n/**\r\n * Load configuration from file\r\n *\r\n * 동적으로 설정 파일을 로드합니다.\r\n *\r\n * **로드 순서**:\r\n * 1. `hua.config.ts` 시도 (TypeScript)\r\n * 2. `hua.config.js` 시도 (JavaScript)\r\n * 3. 없으면 기본값 (product preset)\r\n *\r\n * **Zero-Config**: 설정 파일이 없어도 기본값으로 동작합니다.\r\n *\r\n * **주의사항**:\r\n * - 이 함수는 Node.js 환경(빌드 타임)에서만 동작합니다.\r\n * - 런타임에서는 캐시된 설정을 사용합니다.\r\n * - **권장**: 설정 파일을 명시적으로 import하여 타입 안전성을 보장하세요.\r\n *   ```ts\r\n *   // hua.config.ts\r\n *   import { defineConfig } from '@hua-labs/hua/framework';\r\n *   export default defineConfig({ preset: 'product' });\r\n *\r\n *   // app/layout.tsx 또는 다른 서버 컴포넌트에서\r\n *   import config from '../hua.config';\r\n *   import { setConfig } from '@hua-labs/hua/framework';\r\n *   setConfig(config);\r\n *   ```\r\n *\r\n * **Fallback 용도**: 이 함수는 설정 파일이 명시적으로 import되지 않은 경우에만 사용됩니다.\r\n * 프로덕션 환경에서는 설정 파일을 명시적으로 import하는 것을 권장합니다.\r\n */\r\nexport function loadConfig(): HuaConfig {\r\n  const cachedConfig = _getCachedConfig();\r\n  if (cachedConfig) {\r\n    return cachedConfig;\r\n  }\r\n\r\n  // Node.js 환경에서만 동적 로드 시도 (서버 사이드에서만)\r\n  // 클라이언트에서는 기본 설정 반환\r\n  if (typeof window !== 'undefined') {\r\n    // 브라우저 환경: 기본 설정 반환\r\n    const defaultConfig = mergePresetWithConfig('product', {});\r\n    _setCachedConfig(defaultConfig);\r\n    return defaultConfig;\r\n  }\r\n\r\n  // Node.js 환경에서만 동적 로드 시도\r\n  if (typeof process !== 'undefined' && process.cwd && typeof require !== 'undefined') {\r\n    try {\r\n      // webpack이 분석하지 못하도록 eval 사용\r\n      // eslint-disable-next-line @typescript-eslint/no-require-imports\r\n      const dynamicRequire = eval('require') as NodeRequire;\r\n      const fs = dynamicRequire('fs') as typeof import('fs');\r\n      const path = dynamicRequire('path') as typeof import('path');\r\n      const projectRoot = process.cwd();\r\n\r\n      // 설정 파일 경로 후보\r\n      const configPaths = [\r\n        path.join(projectRoot, 'hua.config.ts'),\r\n        path.join(projectRoot, 'hua.config.js'),\r\n        path.join(projectRoot, 'hua.config.mjs'),\r\n      ];\r\n\r\n      // 첫 번째로 발견된 설정 파일 사용\r\n      for (const configPath of configPaths) {\r\n        if (fs.existsSync(configPath)) {\r\n          try {\r\n            if (typeof require !== 'undefined' && typeof require.resolve === 'function') {\r\n              try {\r\n                const configModule = dynamicRequire(configPath);\r\n                const userConfig = configModule.default || configModule;\r\n\r\n                // Preset 병합 처리\r\n                if (userConfig && typeof userConfig === 'object') {\r\n                  let loadedConfig: HuaConfig;\r\n                  if (userConfig.preset) {\r\n                    const { preset, ...rest } = userConfig;\r\n                    loadedConfig = mergePresetWithConfig(preset, rest);\r\n                  } else {\r\n                    loadedConfig = createConfigFromUserConfig(userConfig);\r\n                  }\r\n\r\n                  loadedConfig = validateConfig(loadedConfig);\r\n                  _setCachedConfig(loadedConfig);\r\n                  return loadedConfig;\r\n                }\r\n              } catch (requireError) {\r\n                // require 실패 (TypeScript 파일 등)\r\n                // 기본값 사용\r\n                break;\r\n              }\r\n            }\r\n          } catch (fileError) {\r\n            // 파일 읽기 실패\r\n            continue;\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      // fs, path 등이 없는 환경 (브라우저, Edge Runtime 등)\r\n      // 기본값 사용\r\n    }\r\n  }\r\n\r\n  // 기본값 (product preset)\r\n  // 설정 파일이 없거나 로드 실패 시\r\n  const defaultConfig = mergePresetWithConfig('product', {});\r\n  _setCachedConfig(defaultConfig);\r\n  return defaultConfig;\r\n}\r\n"]}