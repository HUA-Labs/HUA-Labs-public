# 디자인 리팩토링 플랜

## 목표

숨다이어리 앱의 디자인 시스템을 전면적으로 개선하여 일관성, 유지보수성, 성능을 향상시킵니다.

## 현재 상태 분석

### 문제점

1. **이모지 사용**
   - 51개 파일에서 이모지 사용 확인
   - 코드베이스에 불필요한 이모지 포함

2. **과도한 그라데이션 사용**
   - 61개 파일에서 `gradient` 또는 `bg-gradient` 사용
   - `globals.css`에 다수의 커스텀 그라데이션 클래스 정의
   - 불필요한 그라데이션으로 인한 성능 저하 가능성

3. **스타일 중복**
   - `globals.css`에 259줄의 커스텀 스타일
   - 컴포넌트별로 중복된 스타일 정의
   - 일관성 없는 디자인 토큰 사용

4. **UI 패키지 활용 부족**
   - `@hua-labs/ui` 패키지가 이미 존재하지만 제한적으로 사용
   - 커스텀 컴포넌트와 UI 패키지 컴포넌트 혼재

## 리팩토링 계획

### Phase 1: 정리 및 제거

#### 1.1 이모지 제거
- [ ] 모든 파일에서 이모지 검색 및 제거
- [ ] README, 문서 파일의 이모지 제거
- [ ] 코드 주석의 이모지 제거
- [ ] UI 텍스트의 이모지 제거

**대상 파일**: 51개 파일
- `docs/` 폴더 내 문서들
- `app/` 폴더 내 컴포넌트 및 페이지들
- `scripts/` 폴더 내 스크립트들

#### 1.2 불필요한 그라데이션 제거
- [ ] `globals.css`에서 사용되지 않는 그라데이션 클래스 제거
- [ ] 컴포넌트에서 과도한 그라데이션을 단색 또는 미묘한 그라데이션으로 변경
- [ ] 성능에 영향을 주는 복잡한 그라데이션 최적화

**제거 대상**:
- `.gradient-bg` - 전체 배경 그라데이션
- `.btn-primary` - 버튼 그라데이션 (단색으로 변경)
- `.rhythm-room-bg` - 배경 그라데이션
- `.rhythm-room-button` - 버튼 그라데이션
- `.emotion-card` - 카드 그라데이션
- `.emotion-meter` - 미터 그라데이션 (필요시 유지)

**유지할 그라데이션**:
- 미묘한 배경 그라데이션 (성능 영향 최소)
- 감정 분석 미터 (의미적 필요성)

### Phase 2: UI 패키지 통합

#### 2.1 UI 패키지 개선
- [ ] `@hua-labs/ui` 패키지의 컴포넌트 검토
- [ ] 숨다이어리에 필요한 컴포넌트 추가
- [ ] 디자인 토큰 통일

#### 2.2 UI 패키지 컴포넌트로 교체
- [ ] 커스텀 버튼 → `@hua-labs/ui` Button 컴포넌트
- [ ] 커스텀 카드 → `@hua-labs/ui` Card 컴포넌트
- [ ] 커스텀 Input → `@hua-labs/ui` Input 컴포넌트
- [ ] 커스텀 Modal → `@hua-labs/ui` Modal 컴포넌트
- [ ] 커스텀 Alert → `@hua-labs/ui` Alert 컴포넌트
- [ ] 커스텀 Loading → `@hua-labs/ui` LoadingSpinner 컴포넌트

**교체 우선순위**:
1. 공통 컴포넌트 (Button, Input, Card)
2. 레이아웃 컴포넌트 (Container, Grid, Stack)
3. 피드백 컴포넌트 (Alert, Toast, Loading)
4. 오버레이 컴포넌트 (Modal, Drawer, Popover)

### Phase 3: 디자인 시스템 구축

#### 3.1 디자인 시스템 접근 방식 결정

**옵션 A: Tailwind 기반 커스텀 (권장)**
- Tailwind CSS의 `theme` 확장 사용
- `tailwind.config.js`에서 디자인 토큰 정의
- CSS 변수와 Tailwind 유틸리티 클래스 조합

**옵션 B: 별도 디자인 시스템**
- 독립적인 디자인 토큰 파일 생성
- 별도 스타일 시스템 구축
- Tailwind와 분리된 구조

**결정**: **옵션 A (Tailwind 기반 커스텀)** 권장
- 이미 Tailwind 사용 중
- `@hua-labs/ui`도 Tailwind 기반
- 일관성 유지 용이
- 유지보수성 향상

#### 3.2 디자인 토큰 정의

**색상 시스템**
```javascript
// tailwind.config.js
colors: {
  primary: {
    50: '#f0f9ff',
    100: '#e0f2fe',
    // ... 표준 색상 스케일
    900: '#0c4a6e',
  },
  secondary: {
    // ...
  },
  // ...
}
```

**타이포그래피**
- 폰트 크기 스케일
- 폰트 두께
- 라인 높이

**간격 시스템**
- 표준 간격 스케일 (4px 기준)

**그림자 시스템**
- elevation 레벨별 그림자

**테두리 시스템**
- 반경 (border-radius)
- 두께

#### 3.3 디자인 토큰 파일 구조

```
app/
  design-system/
    tokens/
      colors.ts
      typography.ts
      spacing.ts
      shadows.ts
      borders.ts
    components/
      (공통 컴포넌트 래퍼)
```

### Phase 4: 스타일 정리

#### 4.1 globals.css 리팩토링
- [ ] 불필요한 커스텀 클래스 제거
- [ ] Tailwind 유틸리티로 대체 가능한 스타일 제거
- [ ] 필수 커스텀 스타일만 유지

**유지할 스타일**:
- CSS 변수 정의 (색상, 간격 등)
- 애니메이션 키프레임 (필요시)
- 특수 효과 (glass-effect 등, 성능 고려)

**제거할 스타일**:
- Tailwind로 대체 가능한 유틸리티 클래스
- 중복된 스타일 정의

#### 4.2 컴포넌트 스타일 정리
- [ ] 인라인 스타일 최소화
- [ ] Tailwind 클래스 우선 사용
- [ ] 컴포넌트별 스타일 일관성 확보

### Phase 5: 성능 최적화

#### 5.1 CSS 최적화
- [ ] 사용되지 않는 CSS 제거
- [ ] Critical CSS 추출 검토
- [ ] CSS 번들 크기 최적화

#### 5.2 그라데이션 최적화
- [ ] 복잡한 그라데이션을 단순화
- [ ] CSS 변수로 그라데이션 색상 관리
- [ ] 하드웨어 가속 활용

## 구현 단계

### Step 1: 환경 설정
1. 브랜치 생성: `feature/design-refactor`
2. 현재 상태 백업
3. 디자인 토큰 정의

### Step 2: 정리 작업
1. 이모지 제거
2. 불필요한 그라데이션 제거
3. 사용되지 않는 스타일 제거

### Step 3: UI 패키지 통합
1. UI 패키지 컴포넌트 검토 및 개선
2. 커스텀 컴포넌트를 UI 패키지 컴포넌트로 교체
3. 스타일 일관성 확보

### Step 4: 디자인 시스템 적용
1. Tailwind 설정 확장
2. 디자인 토큰 적용
3. 컴포넌트 스타일 업데이트

### Step 5: 테스트 및 검증
1. 시각적 회귀 테스트
2. 성능 테스트
3. 접근성 검증
4. 반응형 디자인 확인

## 예상 효과

### 코드 품질
- 코드베이스 크기 감소 (불필요한 스타일 제거)
- 유지보수성 향상 (일관된 디자인 시스템)
- 재사용성 향상 (UI 패키지 컴포넌트 활용)

### 성능
- CSS 번들 크기 감소
- 렌더링 성능 향상 (그라데이션 최적화)
- 로딩 시간 단축

### 개발 경험
- 일관된 디자인 토큰 사용
- UI 패키지 컴포넌트 재사용
- 빠른 프로토타이핑

## 주의사항

1. **점진적 마이그레이션**: 한 번에 모든 것을 변경하지 않고 단계적으로 진행
2. **기능 유지**: 디자인 변경 시 기능이 손상되지 않도록 주의
3. **접근성**: 색상 대비, 키보드 네비게이션 등 접근성 유지
4. **반응형**: 모바일, 태블릿, 데스크톱 모든 화면 크기에서 테스트
5. **다크 모드**: 다크 모드 지원 유지 및 개선

## 참고 자료

- [@hua-labs/ui README](../packages/hua-ui/README.md)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
- [Design Tokens Guide](https://www.designtokens.org/)

## 진행 상황

- [ ] Phase 1: 정리 및 제거
- [ ] Phase 2: UI 패키지 통합
- [ ] Phase 3: 디자인 시스템 구축
- [ ] Phase 4: 스타일 정리
- [ ] Phase 5: 성능 최적화

---

**작성일**: 2025-12-03  
**작성자**: Auto (AI Assistant)  
**태그**: #design-refactor #ui #tailwind #design-system

