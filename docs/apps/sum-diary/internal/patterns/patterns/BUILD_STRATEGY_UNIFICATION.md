# λΉλ“ μ „λµ ν†µμΌ λ°©μ•

**μ‘μ„±μΌ**: 2025-12-11  
**λ©μ **: ν¨ν‚¤μ§€λ³„λ΅ λ‹¤λ¥Έ λΉλ“ λ°©μ‹μ„ ν†µμΌν•μ—¬ μ μ§€λ³΄μμ„± ν–¥μƒ

---

## π“ ν„μ¬ μƒν™©

### λΉλ“ λ°©μ‹ λ¶„λ¥

#### 1. `tsup` + `tsc` ν¨ν„΄ (2κ° ν¨ν‚¤μ§€)
- `@hua-labs/ui`
- `@hua-labs/motion`

**λΉλ“ μ¤ν¬λ¦½νΈ**:
```json
"build": "node ../../node_modules/tsx/dist/cli.mjs ../../node_modules/tsup/dist/cli-default.js && node ../../node_modules/typescript/lib/tsc.js --emitDeclarationOnly"
```

**νΉμ§•**:
- μ—¬λ¬ μ—”νΈλ¦¬ ν¬μΈνΈ (μ: `index`, `advanced`, `form`, `navigation` λ“±)
- ESM + CJS λ²λ“¤λ§ ν•„μ”
- Minify, treeshake, sourcemap μƒμ„±
- `tsup.config.ts` νμΌ μ΅΄μ¬

#### 2. `tsc`λ§ ν¨ν„΄ (15κ° μ΄μƒ ν¨ν‚¤μ§€)
- `@hua-labs/i18n-core`
- `@hua-labs/motion-core`
- `@hua-labs/utils`
- `@hua-labs/i18n-sdk`
- `@hua-labs/hooks`
- κΈ°νƒ€ λ“±λ“±...

**λΉλ“ μ¤ν¬λ¦½νΈ**:
```json
"build": "node ../../node_modules/typescript/lib/tsc.js"
```

**νΉμ§•**:
- λ‹¨μΌ μ—”νΈλ¦¬ ν¬μΈνΈ
- νƒ€μ… μ„ μ–Έ νμΌλ§ μƒμ„±
- λ²λ“¤λ§ λ¶ν•„μ”

---

## π¤” μ™ λ‹¤λ¥Έκ°€?

### κΈ°μ μ  μ΄μ 

1. **λ²λ“¤λ§ ν•„μ”μ„±**
   - `hua-ui`, `hua-motion`: μ—¬λ¬ μ—”νΈλ¦¬ ν¬μΈνΈ, νΈλ¦¬ μ‰μ΄ν‚Ή, μµμ ν™” ν•„μ”
   - λ‹¤λ¥Έ ν¨ν‚¤μ§€λ“¤: λ‹¨μΌ μ—”νΈλ¦¬, λ²λ“¤λ§ λ¶ν•„μ”

2. **μ¶λ ¥ ν•μ‹**
   - `tsup` ν¨ν‚¤μ§€: ESM + CJS + νƒ€μ… μ„ μ–Έ
   - `tsc` ν¨ν‚¤μ§€: νƒ€μ… μ„ μ–Έλ§

### μ—­μ‚¬μ  μ΄μ 

- ν¨ν‚¤μ§€κ°€ λ‹¤λ¥Έ μ‹κΈ°μ— μƒμ„±λ¨
- μ”κµ¬μ‚¬ν•­μ΄ λ‹¬λΌμ„ λ‹¤λ¥Έ λ„κµ¬ μ„ νƒ
- μ μ§„μ  λ¦¬ν©ν† λ§ κ³Όμ •μ—μ„ ν†µμΌλμ§€ μ•μ

---

## π’΅ ν†µμΌ λ°©μ•

### μµμ… 1: λ¨λ“  ν¨ν‚¤μ§€λ¥Ό `tsup`μΌλ΅ ν†µμΌ (κ¶μ¥ν•μ§€ μ•μ)

**μ¥μ **:
- β… λ¨λ“  ν¨ν‚¤μ§€κ°€ λ™μΌν• λΉλ“ λ„κµ¬ μ‚¬μ©
- β… μΌκ΄€λ λΉλ“ ν”„λ΅μ„Έμ¤

**λ‹¨μ **:
- β λ¶ν•„μ”ν• λ²λ“¤λ§μΌλ΅ λΉλ“ μ‹κ°„ μ¦κ°€
- β λ‹¨μ ν¨ν‚¤μ§€μ— κ³Όλ„ν• λ³µμ΅λ„ μ¶”κ°€
- β `tsup.config.ts` νμΌμ„ λ¨λ“  ν¨ν‚¤μ§€μ— μ¶”κ°€ν•΄μ•Ό ν•¨
- β λ²λ“¤ ν¬κΈ° μµμ ν™”κ°€ λ¶ν•„μ”ν• ν¨ν‚¤μ§€μ— μ¤λ²„ν—¤λ“

**κ²°λ΅ **: κΈ°μ μ μΌλ΅ κ°€λ¥ν•μ§€λ§ λΉ„ν¨μ¨μ 

### μµμ… 2: λ¨λ“  ν¨ν‚¤μ§€λ¥Ό `tsc`λ΅ ν†µμΌ (κ¶μ¥ν•μ§€ μ•μ)

**μ¥μ **:
- β… λ¨λ“  ν¨ν‚¤μ§€κ°€ λ™μΌν• λΉλ“ λ„κµ¬ μ‚¬μ©
- β… λ‹¨μν• λΉλ“ ν”„λ΅μ„Έμ¤

**λ‹¨μ **:
- β `hua-ui`, `hua-motion`μ μ—¬λ¬ μ—”νΈλ¦¬ ν¬μΈνΈ μ²λ¦¬ λ¶κ°€
- β ESM/CJS λ²λ“¤λ§ λ¶κ°€
- β Minify, treeshake λ“± μµμ ν™” λ¶κ°€
- β κΈ°μ΅΄ κΈ°λ¥ μ†μ‹¤

**κ²°λ΅ **: κΈ°μ μ μΌλ΅ λ¶κ°€λ¥

### μµμ… 3: ν„μ¬ μƒνƒ μ μ§€ + λ¬Έμ„ν™” (κ¶μ¥) β…

**ν„μ¬ μƒνƒ**:
- `tsup`μ΄ ν•„μ”ν• ν¨ν‚¤μ§€: `tsup` + `tsc` μ‚¬μ©
- `tsc`λ§ ν•„μ”ν• ν¨ν‚¤μ§€: `tsc`λ§ μ‚¬μ©

**κ°μ„  μ‚¬ν•­**:
1. **μ‹¤ν–‰ λ°©μ‹ ν†µμΌ** (μ΄λ―Έ μ™„λ£)
   - λ¨λ“  ν¨ν‚¤μ§€: `node`λ΅ μ λ€ κ²½λ΅ μ‹¤ν–‰
   - PATH λ¬Έμ  μ™„μ „ μ°ν

2. **λ¬Έμ„ν™” κ°•ν™”**
   - κ° ν¨ν‚¤μ§€μ λΉλ“ μ”κµ¬μ‚¬ν•­ λ…μ‹
   - μƒ ν¨ν‚¤μ§€ μƒμ„± μ‹ κ°€μ΄λ“λΌμΈ μ κ³µ

3. **μΌκ΄€λ ν¨ν„΄ μ μ§€**
   - `tsup` ν¨ν‚¤μ§€: `node ../../node_modules/tsx/dist/cli.mjs ../../node_modules/tsup/dist/cli-default.js && node ../../node_modules/typescript/lib/tsc.js --emitDeclarationOnly`
   - `tsc` ν¨ν‚¤μ§€: `node ../../node_modules/typescript/lib/tsc.js`

**μ¥μ **:
- β… κ° ν¨ν‚¤μ§€μ μ”κµ¬μ‚¬ν•­μ— λ§λ” μµμ μ λ„κµ¬ μ‚¬μ©
- β… μ‹¤ν–‰ λ°©μ‹μ€ ν†µμΌλμ–΄ μμ (λ¨λ‘ `node` + μ λ€ κ²½λ΅)
- β… λ¶ν•„μ”ν• μ¤λ²„ν—¤λ“ μ—†μ
- β… μ μ§€λ³΄μ μ©μ΄

---

## π“‹ μƒ ν¨ν‚¤μ§€ μƒμ„± κ°€μ΄λ“λΌμΈ

### 1. λΉλ“ λ„κµ¬ μ„ νƒ κΈ°μ¤€

**`tsup`μ„ μ‚¬μ©ν•΄μ•Ό ν•λ” κ²½μ°**:
- β… μ—¬λ¬ μ—”νΈλ¦¬ ν¬μΈνΈκ°€ μμ
- β… ESM + CJS λ²λ“¤λ§μ΄ ν•„μ”ν•¨
- β… Minify, treeshake λ“± μµμ ν™”κ°€ ν•„μ”ν•¨
- β… Sourcemapμ΄ ν•„μ”ν•¨

**`tsc`λ§ μ‚¬μ©ν•΄λ„ λλ” κ²½μ°**:
- β… λ‹¨μΌ μ—”νΈλ¦¬ ν¬μΈνΈ
- β… νƒ€μ… μ„ μ–Έ νμΌλ§ ν•„μ”
- β… λ²λ“¤λ§ λ¶ν•„μ”
- β… λ‹¨μν• μ ν‹Έλ¦¬ν‹° ν¨ν‚¤μ§€

### 2. λΉλ“ μ¤ν¬λ¦½νΈ ν…ν”λ¦Ώ

#### `tsup` ν¨ν‚¤μ§€ ν…ν”λ¦Ώ
```json
{
  "scripts": {
    "build": "node ../../node_modules/tsx/dist/cli.mjs ../../node_modules/tsup/dist/cli-default.js && node ../../node_modules/typescript/lib/tsc.js --emitDeclarationOnly"
  }
}
```

#### `tsc` ν¨ν‚¤μ§€ ν…ν”λ¦Ώ
```json
{
  "scripts": {
    "build": "node ../../node_modules/typescript/lib/tsc.js"
  }
}
```

### 3. μ‹¤ν–‰ λ°©μ‹ ν†µμΌ μ›μΉ™

**ν•­μƒ μ¤€μν•΄μ•Ό ν•  μ‚¬ν•­**:
1. β… `node`λ΅ μ§μ ‘ μ‹¤ν–‰ (PATH λ¬Έμ  μ°ν)
2. β… μ λ€ κ²½λ΅ μ‚¬μ© (`../../node_modules/...`)
3. β… `pnpm exec`, `npx` λ“± μ‚¬μ© κΈμ§€ (Vercelμ—μ„ μ‹¤ν¨)

---

## π― κ²°λ΅ 

### ν„μ¬ μƒνƒ ν‰κ°€

**μ‹¤ν–‰ λ°©μ‹**: β… μ΄λ―Έ ν†µμΌλ¨
- λ¨λ“  ν¨ν‚¤μ§€κ°€ `node` + μ λ€ κ²½λ΅ μ‚¬μ©
- PATH λ¬Έμ  μ™„μ „ μ°ν

**λΉλ“ λ„κµ¬**: β οΈ ν¨ν‚¤μ§€ μ”κµ¬μ‚¬ν•­μ— λ”°λΌ λ‹¤λ¦„
- `tsup` ν¨ν‚¤μ§€: λ²λ“¤λ§ ν•„μ”
- `tsc` ν¨ν‚¤μ§€: νƒ€μ… μ„ μ–Έλ§ ν•„μ”

### κ¶μ¥ μ‚¬ν•­

1. **ν„μ¬ μƒνƒ μ μ§€**
   - κ° ν¨ν‚¤μ§€μ μ”κµ¬μ‚¬ν•­μ— λ§λ” λ„κµ¬ μ‚¬μ©
   - μ‹¤ν–‰ λ°©μ‹μ€ μ΄λ―Έ ν†µμΌλμ–΄ μμ

2. **λ¬Έμ„ν™” κ°•ν™”**
   - μ΄ λ¬Έμ„λ¥Ό μ°Έκ³ ν•μ—¬ μƒ ν¨ν‚¤μ§€ μƒμ„±
   - κ° ν¨ν‚¤μ§€μ λΉλ“ μ”κµ¬μ‚¬ν•­ λ…μ‹

3. **μΌκ΄€μ„± μ μ§€**
   - κ°™μ€ μ”κµ¬μ‚¬ν•­μ ν¨ν‚¤μ§€λ” κ°™μ€ λΉλ“ λ„κµ¬ μ‚¬μ©
   - μ‹¤ν–‰ λ°©μ‹μ€ ν•­μƒ `node` + μ λ€ κ²½λ΅

---

## π“ μ°Έκ³  μλ£

- [Vercel λΉλ“ λ„κµ¬ μ‹¤ν–‰ μ¤λ¥ ν•΄κ²°](./vercel-build-tool-execution-error.md)
- [κ·Όλ³Έ μ›μΈ λ¶„μ„](./ROOT_CAUSE_ANALYSIS.md)
- [tsup κ³µμ‹ λ¬Έμ„](https://tsup.egoist.dev/)
- [TypeScript μ»΄νμΌλ¬ μµμ…](https://www.typescriptlang.org/docs/handbook/compiler-options.html)

